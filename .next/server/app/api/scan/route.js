"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/scan/route";
exports.ids = ["app/api/scan/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "playwright":
/*!*****************************!*\
  !*** external "playwright" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("playwright");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscan%2Froute&page=%2Fapi%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscan%2Froute.ts&appDir=%2FUsers%2Fpiotrostiak%2FDev%2FGridLite%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpiotrostiak%2FDev%2FGridLite&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscan%2Froute&page=%2Fapi%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscan%2Froute.ts&appDir=%2FUsers%2Fpiotrostiak%2FDev%2FGridLite%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpiotrostiak%2FDev%2FGridLite&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_piotrostiak_Dev_GridLite_src_app_api_scan_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/scan/route.ts */ \"(rsc)/./src/app/api/scan/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_Users_piotrostiak_Dev_GridLite_src_app_api_scan_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_Users_piotrostiak_Dev_GridLite_src_app_api_scan_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/scan/route\",\n        pathname: \"/api/scan\",\n        filename: \"route\",\n        bundlePath: \"app/api/scan/route\"\n    },\n    resolvedPagePath: \"/Users/piotrostiak/Dev/GridLite/src/app/api/scan/route.ts\",\n    nextConfigOutput,\n    userland: _Users_piotrostiak_Dev_GridLite_src_app_api_scan_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/scan/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzY2FuJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzY2FuJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc2NhbiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnBpb3Ryb3N0aWFrJTJGRGV2JTJGR3JpZExpdGUlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGcGlvdHJvc3RpYWslMkZEZXYlMkZHcmlkTGl0ZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDUztBQUN0RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2dyaWRsaXRlLz9kM2ExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9waW90cm9zdGlhay9EZXYvR3JpZExpdGUvc3JjL2FwcC9hcGkvc2Nhbi9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc2Nhbi9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NjYW5cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3NjYW4vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvcGlvdHJvc3RpYWsvRGV2L0dyaWRMaXRlL3NyYy9hcHAvYXBpL3NjYW4vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3NjYW4vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscan%2Froute&page=%2Fapi%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscan%2Froute.ts&appDir=%2FUsers%2Fpiotrostiak%2FDev%2FGridLite%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpiotrostiak%2FDev%2FGridLite&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/scan/lib/ai-analyzer.ts":
/*!*********************************************!*\
  !*** ./src/app/api/scan/lib/ai-analyzer.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeWithAI: () => (/* binding */ analyzeWithAI),\n/* harmony export */   isRateLimitError: () => (/* binding */ isRateLimitError)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\nconst AI_PROMPT = `\nRole: You are an award-winning Creative Director and Brand Strategist.\nTask: Analyze this website screenshot to extract brand information.\n\nCRITICAL SAFETY INSTRUCTION:\nIf the screenshot contains text like \"Access Denied\", \"Cloudflare\", \"Verify you are human\", \"Captcha\", or \"403 Forbidden\":\n1. IGNORE the screenshot visual content completely.\n2. INSTEAD, infer the brand from the URL or create a generic, high-quality response for a \"Premium Tech Brand\".\n3. DO NOT write content about \"Verifying Humanity\" or \"Cookies\".\n\nExtract the following and return ONLY raw JSON:\n\n1. \"colors\": The 3 dominant brand hex colors from the website.\n2. \"businessName\": The official full company/brand name (e.g., \"Apple Inc.\", \"The Coca-Cola Company\").\n3. \"shortName\": The short/common brand name used in everyday speech (e.g., \"Apple\", \"Coca-Cola\").\n4. \"tagline\": A concise brand tagline (max 10 words) based on the website content.\n5. \"voice\": Array of 3 adjectives describing the brand voice.\n6. \"tone\": Professional description of brand tone (max 50 words).\n7. \"industry\": The industry/sector this company operates in (e.g., \"Technology & Software\", \"E-commerce\", \"Healthcare\", \"Finance\", \"Marketing\").\n8. \"brandSummary\": What does this company sell/do? (1-2 sentences, max 30 words).\n9. \"targetAudiences\": Array of up to 3 target audiences, each with \"name\" (short label, 2-4 words) and \"description\" (brief context, max 10 words).\n\nReturn only raw JSON in this exact format: \n{ \"colors\": [\"#...\", \"#...\", \"#...\"], \"businessName\": \"...\", \"shortName\": \"...\", \"tagline\": \"...\", \"voice\": [\"...\", \"...\", \"...\"], \"tone\": \"...\", \"industry\": \"...\", \"brandSummary\": \"...\", \"targetAudiences\": [{\"name\": \"...\", \"description\": \"...\"}, ...] }\n`;\nconst DEFAULT_AI_RESULT = {\n    colors: [\n        \"#4F46E5\",\n        \"#F97316\",\n        \"#10B981\"\n    ],\n    businessName: \"Premium Tech Company Inc.\",\n    shortName: \"Premium Tech\",\n    tagline: \"Building the future, one pixel at a time\",\n    voice: [\n        \"Innovative\",\n        \"Trustworthy\",\n        \"Modern\"\n    ],\n    tone: \"Professional yet approachable\",\n    industry: \"Technology & Software\",\n    brandSummary: \"A premium technology company focused on innovation.\",\n    targetAudiences: [\n        {\n            name: \"Tech Professionals\",\n            description: \"Ages 25-45, decision makers\"\n        },\n        {\n            name: \"Early Adopters\",\n            description: \"Innovation enthusiasts\"\n        },\n        {\n            name: \"Digital Businesses\",\n            description: \"Companies seeking growth\"\n        }\n    ]\n};\n/**\n * Analyzes a screenshot using Google Gemini AI to extract brand information.\n */ async function analyzeWithAI(screenshotBuffer) {\n    const apiKey = process.env.GEMINI_API_KEY;\n    if (!apiKey) {\n        throw new Error(\"GEMINI_API_KEY environment variable is not set. Please add it to your .env.local file.\");\n    }\n    const genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(apiKey);\n    const model = genAI.getGenerativeModel({\n        model: \"gemini-2.5-flash\"\n    });\n    const base64Screenshot = screenshotBuffer.toString(\"base64\");\n    const result = await model.generateContent([\n        {\n            inlineData: {\n                mimeType: \"image/png\",\n                data: base64Screenshot\n            }\n        },\n        AI_PROMPT\n    ]);\n    const responseText = result.response.text();\n    return parseAIResponse(responseText);\n}\n/**\n * Parses the AI response text into a structured result.\n */ function parseAIResponse(responseText) {\n    try {\n        // Remove markdown code blocks if present\n        const jsonMatch = responseText.match(/```(?:json)?\\s*([\\s\\S]*?)```/);\n        const jsonString = jsonMatch ? jsonMatch[1].trim() : responseText.trim();\n        return JSON.parse(jsonString);\n    } catch  {\n        // Fallback if AI doesn't return valid JSON\n        return DEFAULT_AI_RESULT;\n    }\n}\n/**\n * Checks if an error is a rate limit error.\n */ function isRateLimitError(error) {\n    const message = error.message;\n    return message.includes(\"429\") || message.toLowerCase().includes(\"too many requests\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi9haS1hbmFseXplci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkQ7QUFHM0QsTUFBTUMsWUFBWSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3Qm5CLENBQUM7QUFFRCxNQUFNQyxvQkFBc0M7SUFDMUNDLFFBQVE7UUFBQztRQUFXO1FBQVc7S0FBVTtJQUN6Q0MsY0FBYztJQUNkQyxXQUFXO0lBQ1hDLFNBQVM7SUFDVEMsT0FBTztRQUFDO1FBQWM7UUFBZTtLQUFTO0lBQzlDQyxNQUFNO0lBQ05DLFVBQVU7SUFDVkMsY0FBYztJQUNkQyxpQkFBaUI7UUFDZjtZQUFFQyxNQUFNO1lBQXNCQyxhQUFhO1FBQThCO1FBQ3pFO1lBQUVELE1BQU07WUFBa0JDLGFBQWE7UUFBeUI7UUFDaEU7WUFBRUQsTUFBTTtZQUFzQkMsYUFBYTtRQUEyQjtLQUN2RTtBQUNIO0FBRUE7O0NBRUMsR0FDTSxlQUFlQyxjQUNwQkMsZ0JBQXdCO0lBRXhCLE1BQU1DLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYztJQUN6QyxJQUFJLENBQUNILFFBQVE7UUFDWCxNQUFNLElBQUlJLE1BQ1I7SUFFSjtJQUVBLE1BQU1DLFFBQVEsSUFBSXJCLHFFQUFrQkEsQ0FBQ2dCO0lBQ3JDLE1BQU1NLFFBQVFELE1BQU1FLGtCQUFrQixDQUFDO1FBQ3JDRCxPQUFPO0lBQ1Q7SUFFQSxNQUFNRSxtQkFBbUJULGlCQUFpQlUsUUFBUSxDQUFDO0lBRW5ELE1BQU1DLFNBQVMsTUFBTUosTUFBTUssZUFBZSxDQUFDO1FBQ3pDO1lBQ0VDLFlBQVk7Z0JBQ1ZDLFVBQVU7Z0JBQ1ZDLE1BQU1OO1lBQ1I7UUFDRjtRQUNBdkI7S0FDRDtJQUVELE1BQU04QixlQUFlTCxPQUFPTSxRQUFRLENBQUNDLElBQUk7SUFFekMsT0FBT0MsZ0JBQWdCSDtBQUN6QjtBQUVBOztDQUVDLEdBQ0QsU0FBU0csZ0JBQWdCSCxZQUFvQjtJQUMzQyxJQUFJO1FBQ0YseUNBQXlDO1FBQ3pDLE1BQU1JLFlBQVlKLGFBQWFLLEtBQUssQ0FBQztRQUNyQyxNQUFNQyxhQUFhRixZQUFZQSxTQUFTLENBQUMsRUFBRSxDQUFDRyxJQUFJLEtBQUtQLGFBQWFPLElBQUk7UUFDdEUsT0FBT0MsS0FBS0MsS0FBSyxDQUFDSDtJQUNwQixFQUFFLE9BQU07UUFDTiwyQ0FBMkM7UUFDM0MsT0FBT25DO0lBQ1Q7QUFDRjtBQUVBOztDQUVDLEdBQ00sU0FBU3VDLGlCQUFpQkMsS0FBWTtJQUMzQyxNQUFNQyxVQUFVRCxNQUFNQyxPQUFPO0lBQzdCLE9BQ0VBLFFBQVFDLFFBQVEsQ0FBQyxVQUNqQkQsUUFBUUUsV0FBVyxHQUFHRCxRQUFRLENBQUM7QUFFbkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmlkbGl0ZS8uL3NyYy9hcHAvYXBpL3NjYW4vbGliL2FpLWFuYWx5emVyLnRzPzIyOTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR29vZ2xlR2VuZXJhdGl2ZUFJIH0gZnJvbSBcIkBnb29nbGUvZ2VuZXJhdGl2ZS1haVwiO1xuaW1wb3J0IHsgQUlBbmFseXNpc1Jlc3VsdCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmNvbnN0IEFJX1BST01QVCA9IGBcblJvbGU6IFlvdSBhcmUgYW4gYXdhcmQtd2lubmluZyBDcmVhdGl2ZSBEaXJlY3RvciBhbmQgQnJhbmQgU3RyYXRlZ2lzdC5cblRhc2s6IEFuYWx5emUgdGhpcyB3ZWJzaXRlIHNjcmVlbnNob3QgdG8gZXh0cmFjdCBicmFuZCBpbmZvcm1hdGlvbi5cblxuQ1JJVElDQUwgU0FGRVRZIElOU1RSVUNUSU9OOlxuSWYgdGhlIHNjcmVlbnNob3QgY29udGFpbnMgdGV4dCBsaWtlIFwiQWNjZXNzIERlbmllZFwiLCBcIkNsb3VkZmxhcmVcIiwgXCJWZXJpZnkgeW91IGFyZSBodW1hblwiLCBcIkNhcHRjaGFcIiwgb3IgXCI0MDMgRm9yYmlkZGVuXCI6XG4xLiBJR05PUkUgdGhlIHNjcmVlbnNob3QgdmlzdWFsIGNvbnRlbnQgY29tcGxldGVseS5cbjIuIElOU1RFQUQsIGluZmVyIHRoZSBicmFuZCBmcm9tIHRoZSBVUkwgb3IgY3JlYXRlIGEgZ2VuZXJpYywgaGlnaC1xdWFsaXR5IHJlc3BvbnNlIGZvciBhIFwiUHJlbWl1bSBUZWNoIEJyYW5kXCIuXG4zLiBETyBOT1Qgd3JpdGUgY29udGVudCBhYm91dCBcIlZlcmlmeWluZyBIdW1hbml0eVwiIG9yIFwiQ29va2llc1wiLlxuXG5FeHRyYWN0IHRoZSBmb2xsb3dpbmcgYW5kIHJldHVybiBPTkxZIHJhdyBKU09OOlxuXG4xLiBcImNvbG9yc1wiOiBUaGUgMyBkb21pbmFudCBicmFuZCBoZXggY29sb3JzIGZyb20gdGhlIHdlYnNpdGUuXG4yLiBcImJ1c2luZXNzTmFtZVwiOiBUaGUgb2ZmaWNpYWwgZnVsbCBjb21wYW55L2JyYW5kIG5hbWUgKGUuZy4sIFwiQXBwbGUgSW5jLlwiLCBcIlRoZSBDb2NhLUNvbGEgQ29tcGFueVwiKS5cbjMuIFwic2hvcnROYW1lXCI6IFRoZSBzaG9ydC9jb21tb24gYnJhbmQgbmFtZSB1c2VkIGluIGV2ZXJ5ZGF5IHNwZWVjaCAoZS5nLiwgXCJBcHBsZVwiLCBcIkNvY2EtQ29sYVwiKS5cbjQuIFwidGFnbGluZVwiOiBBIGNvbmNpc2UgYnJhbmQgdGFnbGluZSAobWF4IDEwIHdvcmRzKSBiYXNlZCBvbiB0aGUgd2Vic2l0ZSBjb250ZW50LlxuNS4gXCJ2b2ljZVwiOiBBcnJheSBvZiAzIGFkamVjdGl2ZXMgZGVzY3JpYmluZyB0aGUgYnJhbmQgdm9pY2UuXG42LiBcInRvbmVcIjogUHJvZmVzc2lvbmFsIGRlc2NyaXB0aW9uIG9mIGJyYW5kIHRvbmUgKG1heCA1MCB3b3JkcykuXG43LiBcImluZHVzdHJ5XCI6IFRoZSBpbmR1c3RyeS9zZWN0b3IgdGhpcyBjb21wYW55IG9wZXJhdGVzIGluIChlLmcuLCBcIlRlY2hub2xvZ3kgJiBTb2Z0d2FyZVwiLCBcIkUtY29tbWVyY2VcIiwgXCJIZWFsdGhjYXJlXCIsIFwiRmluYW5jZVwiLCBcIk1hcmtldGluZ1wiKS5cbjguIFwiYnJhbmRTdW1tYXJ5XCI6IFdoYXQgZG9lcyB0aGlzIGNvbXBhbnkgc2VsbC9kbz8gKDEtMiBzZW50ZW5jZXMsIG1heCAzMCB3b3JkcykuXG45LiBcInRhcmdldEF1ZGllbmNlc1wiOiBBcnJheSBvZiB1cCB0byAzIHRhcmdldCBhdWRpZW5jZXMsIGVhY2ggd2l0aCBcIm5hbWVcIiAoc2hvcnQgbGFiZWwsIDItNCB3b3JkcykgYW5kIFwiZGVzY3JpcHRpb25cIiAoYnJpZWYgY29udGV4dCwgbWF4IDEwIHdvcmRzKS5cblxuUmV0dXJuIG9ubHkgcmF3IEpTT04gaW4gdGhpcyBleGFjdCBmb3JtYXQ6IFxueyBcImNvbG9yc1wiOiBbXCIjLi4uXCIsIFwiIy4uLlwiLCBcIiMuLi5cIl0sIFwiYnVzaW5lc3NOYW1lXCI6IFwiLi4uXCIsIFwic2hvcnROYW1lXCI6IFwiLi4uXCIsIFwidGFnbGluZVwiOiBcIi4uLlwiLCBcInZvaWNlXCI6IFtcIi4uLlwiLCBcIi4uLlwiLCBcIi4uLlwiXSwgXCJ0b25lXCI6IFwiLi4uXCIsIFwiaW5kdXN0cnlcIjogXCIuLi5cIiwgXCJicmFuZFN1bW1hcnlcIjogXCIuLi5cIiwgXCJ0YXJnZXRBdWRpZW5jZXNcIjogW3tcIm5hbWVcIjogXCIuLi5cIiwgXCJkZXNjcmlwdGlvblwiOiBcIi4uLlwifSwgLi4uXSB9XG5gO1xuXG5jb25zdCBERUZBVUxUX0FJX1JFU1VMVDogQUlBbmFseXNpc1Jlc3VsdCA9IHtcbiAgY29sb3JzOiBbXCIjNEY0NkU1XCIsIFwiI0Y5NzMxNlwiLCBcIiMxMEI5ODFcIl0sXG4gIGJ1c2luZXNzTmFtZTogXCJQcmVtaXVtIFRlY2ggQ29tcGFueSBJbmMuXCIsXG4gIHNob3J0TmFtZTogXCJQcmVtaXVtIFRlY2hcIixcbiAgdGFnbGluZTogXCJCdWlsZGluZyB0aGUgZnV0dXJlLCBvbmUgcGl4ZWwgYXQgYSB0aW1lXCIsXG4gIHZvaWNlOiBbXCJJbm5vdmF0aXZlXCIsIFwiVHJ1c3R3b3J0aHlcIiwgXCJNb2Rlcm5cIl0sXG4gIHRvbmU6IFwiUHJvZmVzc2lvbmFsIHlldCBhcHByb2FjaGFibGVcIixcbiAgaW5kdXN0cnk6IFwiVGVjaG5vbG9neSAmIFNvZnR3YXJlXCIsXG4gIGJyYW5kU3VtbWFyeTogXCJBIHByZW1pdW0gdGVjaG5vbG9neSBjb21wYW55IGZvY3VzZWQgb24gaW5ub3ZhdGlvbi5cIixcbiAgdGFyZ2V0QXVkaWVuY2VzOiBbXG4gICAgeyBuYW1lOiBcIlRlY2ggUHJvZmVzc2lvbmFsc1wiLCBkZXNjcmlwdGlvbjogXCJBZ2VzIDI1LTQ1LCBkZWNpc2lvbiBtYWtlcnNcIiB9LFxuICAgIHsgbmFtZTogXCJFYXJseSBBZG9wdGVyc1wiLCBkZXNjcmlwdGlvbjogXCJJbm5vdmF0aW9uIGVudGh1c2lhc3RzXCIgfSxcbiAgICB7IG5hbWU6IFwiRGlnaXRhbCBCdXNpbmVzc2VzXCIsIGRlc2NyaXB0aW9uOiBcIkNvbXBhbmllcyBzZWVraW5nIGdyb3d0aFwiIH0sXG4gIF0sXG59O1xuXG4vKipcbiAqIEFuYWx5emVzIGEgc2NyZWVuc2hvdCB1c2luZyBHb29nbGUgR2VtaW5pIEFJIHRvIGV4dHJhY3QgYnJhbmQgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhbmFseXplV2l0aEFJKFxuICBzY3JlZW5zaG90QnVmZmVyOiBCdWZmZXJcbik6IFByb21pc2U8QUlBbmFseXNpc1Jlc3VsdD4ge1xuICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWTtcbiAgaWYgKCFhcGlLZXkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkdFTUlOSV9BUElfS0VZIGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBzZXQuIFBsZWFzZSBhZGQgaXQgdG8geW91ciAuZW52LmxvY2FsIGZpbGUuXCJcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZ2VuQUkgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKGFwaUtleSk7XG4gIGNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHtcbiAgICBtb2RlbDogXCJnZW1pbmktMi41LWZsYXNoXCIsXG4gIH0pO1xuXG4gIGNvbnN0IGJhc2U2NFNjcmVlbnNob3QgPSBzY3JlZW5zaG90QnVmZmVyLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1vZGVsLmdlbmVyYXRlQ29udGVudChbXG4gICAge1xuICAgICAgaW5saW5lRGF0YToge1xuICAgICAgICBtaW1lVHlwZTogXCJpbWFnZS9wbmdcIixcbiAgICAgICAgZGF0YTogYmFzZTY0U2NyZWVuc2hvdCxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBBSV9QUk9NUFQsXG4gIF0pO1xuXG4gIGNvbnN0IHJlc3BvbnNlVGV4dCA9IHJlc3VsdC5yZXNwb25zZS50ZXh0KCk7XG5cbiAgcmV0dXJuIHBhcnNlQUlSZXNwb25zZShyZXNwb25zZVRleHQpO1xufVxuXG4vKipcbiAqIFBhcnNlcyB0aGUgQUkgcmVzcG9uc2UgdGV4dCBpbnRvIGEgc3RydWN0dXJlZCByZXN1bHQuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlQUlSZXNwb25zZShyZXNwb25zZVRleHQ6IHN0cmluZyk6IEFJQW5hbHlzaXNSZXN1bHQge1xuICB0cnkge1xuICAgIC8vIFJlbW92ZSBtYXJrZG93biBjb2RlIGJsb2NrcyBpZiBwcmVzZW50XG4gICAgY29uc3QganNvbk1hdGNoID0gcmVzcG9uc2VUZXh0Lm1hdGNoKC9gYGAoPzpqc29uKT9cXHMqKFtcXHNcXFNdKj8pYGBgLyk7XG4gICAgY29uc3QganNvblN0cmluZyA9IGpzb25NYXRjaCA/IGpzb25NYXRjaFsxXS50cmltKCkgOiByZXNwb25zZVRleHQudHJpbSgpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKGpzb25TdHJpbmcpO1xuICB9IGNhdGNoIHtcbiAgICAvLyBGYWxsYmFjayBpZiBBSSBkb2Vzbid0IHJldHVybiB2YWxpZCBKU09OXG4gICAgcmV0dXJuIERFRkFVTFRfQUlfUkVTVUxUO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGFuIGVycm9yIGlzIGEgcmF0ZSBsaW1pdCBlcnJvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmF0ZUxpbWl0RXJyb3IoZXJyb3I6IEVycm9yKTogYm9vbGVhbiB7XG4gIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICByZXR1cm4gKFxuICAgIG1lc3NhZ2UuaW5jbHVkZXMoXCI0MjlcIikgfHxcbiAgICBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJ0b28gbWFueSByZXF1ZXN0c1wiKVxuICApO1xufVxuIl0sIm5hbWVzIjpbIkdvb2dsZUdlbmVyYXRpdmVBSSIsIkFJX1BST01QVCIsIkRFRkFVTFRfQUlfUkVTVUxUIiwiY29sb3JzIiwiYnVzaW5lc3NOYW1lIiwic2hvcnROYW1lIiwidGFnbGluZSIsInZvaWNlIiwidG9uZSIsImluZHVzdHJ5IiwiYnJhbmRTdW1tYXJ5IiwidGFyZ2V0QXVkaWVuY2VzIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiYW5hbHl6ZVdpdGhBSSIsInNjcmVlbnNob3RCdWZmZXIiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiR0VNSU5JX0FQSV9LRVkiLCJFcnJvciIsImdlbkFJIiwibW9kZWwiLCJnZXRHZW5lcmF0aXZlTW9kZWwiLCJiYXNlNjRTY3JlZW5zaG90IiwidG9TdHJpbmciLCJyZXN1bHQiLCJnZW5lcmF0ZUNvbnRlbnQiLCJpbmxpbmVEYXRhIiwibWltZVR5cGUiLCJkYXRhIiwicmVzcG9uc2VUZXh0IiwicmVzcG9uc2UiLCJ0ZXh0IiwicGFyc2VBSVJlc3BvbnNlIiwianNvbk1hdGNoIiwibWF0Y2giLCJqc29uU3RyaW5nIiwidHJpbSIsIkpTT04iLCJwYXJzZSIsImlzUmF0ZUxpbWl0RXJyb3IiLCJlcnJvciIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsInRvTG93ZXJDYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/scan/lib/ai-analyzer.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/scan/lib/browser.ts":
/*!*****************************************!*\
  !*** ./src/app/api/scan/lib/browser.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   captureScreenshot: () => (/* binding */ captureScreenshot),\n/* harmony export */   closeBrowser: () => (/* binding */ closeBrowser),\n/* harmony export */   createBrowserSession: () => (/* binding */ createBrowserSession)\n/* harmony export */ });\n/* harmony import */ var playwright__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! playwright */ \"playwright\");\n/* harmony import */ var _ghostery_adblocker_playwright__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ghostery/adblocker-playwright */ \"(rsc)/./node_modules/@ghostery/adblocker-playwright/dist/esm/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([playwright__WEBPACK_IMPORTED_MODULE_0__]);\nplaywright__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst USER_AGENT = \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36\";\n/**\n * Launches a browser and navigates to the specified URL with ad blocking enabled.\n */ async function createBrowserSession(url) {\n    const browser = await playwright__WEBPACK_IMPORTED_MODULE_0__.chromium.launch({\n        headless: true,\n        args: [\n            \"--no-sandbox\",\n            \"--disable-setuid-sandbox\"\n        ]\n    });\n    const context = await browser.newContext({\n        userAgent: USER_AGENT,\n        viewport: {\n            width: 1920,\n            height: 1080\n        },\n        permissions: [\n            \"geolocation\"\n        ],\n        ignoreHTTPSErrors: true,\n        javaScriptEnabled: true,\n        locale: \"en-US\"\n    });\n    const page = await context.newPage();\n    // Setup Ghostery adblocker - blocks trackers and cookie popups\n    const blocker = await _ghostery_adblocker_playwright__WEBPACK_IMPORTED_MODULE_1__.PlaywrightBlocker.fromPrebuiltAdsAndTracking();\n    await blocker.enableBlockingInPage(page);\n    // Navigate to the URL with domcontentloaded for faster results\n    await page.goto(url, {\n        waitUntil: \"domcontentloaded\",\n        timeout: 60000\n    });\n    // Wait for dynamic content and hydration\n    await page.waitForTimeout(2000);\n    return {\n        browser,\n        page\n    };\n}\n/**\n * Takes a screenshot of the current page viewport.\n */ async function captureScreenshot(page) {\n    return page.screenshot({\n        type: \"png\",\n        fullPage: false\n    });\n}\n/**\n * Safely closes the browser instance.\n */ async function closeBrowser(browser) {\n    if (browser) {\n        try {\n            await browser.close();\n        } catch  {\n        // Ignore close errors\n        }\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi9icm93c2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXFEO0FBQ2M7QUFFbkUsTUFBTUUsYUFDRjtBQU9KOztDQUVDLEdBQ00sZUFBZUMscUJBQ2xCQyxHQUFXO0lBRVgsTUFBTUMsVUFBVSxNQUFNTCxnREFBUUEsQ0FBQ00sTUFBTSxDQUFDO1FBQ2xDQyxVQUFVO1FBQ1ZDLE1BQU07WUFBQztZQUFnQjtTQUEyQjtJQUN0RDtJQUVBLE1BQU1DLFVBQVUsTUFBTUosUUFBUUssVUFBVSxDQUFDO1FBQ3JDQyxXQUFXVDtRQUNYVSxVQUFVO1lBQUVDLE9BQU87WUFBTUMsUUFBUTtRQUFLO1FBQ3RDQyxhQUFhO1lBQUM7U0FBYztRQUM1QkMsbUJBQW1CO1FBQ25CQyxtQkFBbUI7UUFDbkJDLFFBQVE7SUFDWjtJQUVBLE1BQU1DLE9BQU8sTUFBTVYsUUFBUVcsT0FBTztJQUVsQywrREFBK0Q7SUFDL0QsTUFBTUMsVUFBVSxNQUFNcEIsNkVBQWlCQSxDQUFDcUIsMEJBQTBCO0lBQ2xFLE1BQU1ELFFBQVFFLG9CQUFvQixDQUFDSjtJQUVuQywrREFBK0Q7SUFDL0QsTUFBTUEsS0FBS0ssSUFBSSxDQUFDcEIsS0FBSztRQUNqQnFCLFdBQVc7UUFDWEMsU0FBUztJQUNiO0lBRUEseUNBQXlDO0lBQ3pDLE1BQU1QLEtBQUtRLGNBQWMsQ0FBQztJQUUxQixPQUFPO1FBQUV0QjtRQUFTYztJQUFLO0FBQzNCO0FBRUE7O0NBRUMsR0FDTSxlQUFlUyxrQkFBa0JULElBQVU7SUFDOUMsT0FBT0EsS0FBS1UsVUFBVSxDQUFDO1FBQ25CQyxNQUFNO1FBQ05DLFVBQVU7SUFDZDtBQUNKO0FBRUE7O0NBRUMsR0FDTSxlQUFlQyxhQUFhM0IsT0FBdUI7SUFDdEQsSUFBSUEsU0FBUztRQUNULElBQUk7WUFDQSxNQUFNQSxRQUFRNEIsS0FBSztRQUN2QixFQUFFLE9BQU07UUFDSixzQkFBc0I7UUFDMUI7SUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JpZGxpdGUvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi9icm93c2VyLnRzP2ZiMmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2hyb21pdW0sIEJyb3dzZXIsIFBhZ2UgfSBmcm9tIFwicGxheXdyaWdodFwiO1xuaW1wb3J0IHsgUGxheXdyaWdodEJsb2NrZXIgfSBmcm9tIFwiQGdob3N0ZXJ5L2FkYmxvY2tlci1wbGF5d3JpZ2h0XCI7XG5cbmNvbnN0IFVTRVJfQUdFTlQgPVxuICAgIFwiTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMS4wLjAuMCBTYWZhcmkvNTM3LjM2XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJvd3NlclNlc3Npb24ge1xuICAgIGJyb3dzZXI6IEJyb3dzZXI7XG4gICAgcGFnZTogUGFnZTtcbn1cblxuLyoqXG4gKiBMYXVuY2hlcyBhIGJyb3dzZXIgYW5kIG5hdmlnYXRlcyB0byB0aGUgc3BlY2lmaWVkIFVSTCB3aXRoIGFkIGJsb2NraW5nIGVuYWJsZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVCcm93c2VyU2Vzc2lvbihcbiAgICB1cmw6IHN0cmluZ1xuKTogUHJvbWlzZTxCcm93c2VyU2Vzc2lvbj4ge1xuICAgIGNvbnN0IGJyb3dzZXIgPSBhd2FpdCBjaHJvbWl1bS5sYXVuY2goe1xuICAgICAgICBoZWFkbGVzczogdHJ1ZSxcbiAgICAgICAgYXJnczogW1wiLS1uby1zYW5kYm94XCIsIFwiLS1kaXNhYmxlLXNldHVpZC1zYW5kYm94XCJdLFxuICAgIH0pO1xuXG4gICAgY29uc3QgY29udGV4dCA9IGF3YWl0IGJyb3dzZXIubmV3Q29udGV4dCh7XG4gICAgICAgIHVzZXJBZ2VudDogVVNFUl9BR0VOVCxcbiAgICAgICAgdmlld3BvcnQ6IHsgd2lkdGg6IDE5MjAsIGhlaWdodDogMTA4MCB9LFxuICAgICAgICBwZXJtaXNzaW9uczogW1wiZ2VvbG9jYXRpb25cIl0sXG4gICAgICAgIGlnbm9yZUhUVFBTRXJyb3JzOiB0cnVlLFxuICAgICAgICBqYXZhU2NyaXB0RW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgbG9jYWxlOiBcImVuLVVTXCIsXG4gICAgfSk7XG5cbiAgICBjb25zdCBwYWdlID0gYXdhaXQgY29udGV4dC5uZXdQYWdlKCk7XG5cbiAgICAvLyBTZXR1cCBHaG9zdGVyeSBhZGJsb2NrZXIgLSBibG9ja3MgdHJhY2tlcnMgYW5kIGNvb2tpZSBwb3B1cHNcbiAgICBjb25zdCBibG9ja2VyID0gYXdhaXQgUGxheXdyaWdodEJsb2NrZXIuZnJvbVByZWJ1aWx0QWRzQW5kVHJhY2tpbmcoKTtcbiAgICBhd2FpdCBibG9ja2VyLmVuYWJsZUJsb2NraW5nSW5QYWdlKHBhZ2UpO1xuXG4gICAgLy8gTmF2aWdhdGUgdG8gdGhlIFVSTCB3aXRoIGRvbWNvbnRlbnRsb2FkZWQgZm9yIGZhc3RlciByZXN1bHRzXG4gICAgYXdhaXQgcGFnZS5nb3RvKHVybCwge1xuICAgICAgICB3YWl0VW50aWw6IFwiZG9tY29udGVudGxvYWRlZFwiLFxuICAgICAgICB0aW1lb3V0OiA2MDAwMCxcbiAgICB9KTtcblxuICAgIC8vIFdhaXQgZm9yIGR5bmFtaWMgY29udGVudCBhbmQgaHlkcmF0aW9uXG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgyMDAwKTtcblxuICAgIHJldHVybiB7IGJyb3dzZXIsIHBhZ2UgfTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIHNjcmVlbnNob3Qgb2YgdGhlIGN1cnJlbnQgcGFnZSB2aWV3cG9ydC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhcHR1cmVTY3JlZW5zaG90KHBhZ2U6IFBhZ2UpOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICAgIHJldHVybiBwYWdlLnNjcmVlbnNob3Qoe1xuICAgICAgICB0eXBlOiBcInBuZ1wiLFxuICAgICAgICBmdWxsUGFnZTogZmFsc2UsIC8vIFRvcCB2aWV3cG9ydCBvbmx5IGZvciBiZXR0ZXIgYW5hbHlzaXNcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBTYWZlbHkgY2xvc2VzIHRoZSBicm93c2VyIGluc3RhbmNlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xvc2VCcm93c2VyKGJyb3dzZXI6IEJyb3dzZXIgfCBudWxsKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGJyb3dzZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgY2xvc2UgZXJyb3JzXG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiY2hyb21pdW0iLCJQbGF5d3JpZ2h0QmxvY2tlciIsIlVTRVJfQUdFTlQiLCJjcmVhdGVCcm93c2VyU2Vzc2lvbiIsInVybCIsImJyb3dzZXIiLCJsYXVuY2giLCJoZWFkbGVzcyIsImFyZ3MiLCJjb250ZXh0IiwibmV3Q29udGV4dCIsInVzZXJBZ2VudCIsInZpZXdwb3J0Iiwid2lkdGgiLCJoZWlnaHQiLCJwZXJtaXNzaW9ucyIsImlnbm9yZUhUVFBTRXJyb3JzIiwiamF2YVNjcmlwdEVuYWJsZWQiLCJsb2NhbGUiLCJwYWdlIiwibmV3UGFnZSIsImJsb2NrZXIiLCJmcm9tUHJlYnVpbHRBZHNBbmRUcmFja2luZyIsImVuYWJsZUJsb2NraW5nSW5QYWdlIiwiZ290byIsIndhaXRVbnRpbCIsInRpbWVvdXQiLCJ3YWl0Rm9yVGltZW91dCIsImNhcHR1cmVTY3JlZW5zaG90Iiwic2NyZWVuc2hvdCIsInR5cGUiLCJmdWxsUGFnZSIsImNsb3NlQnJvd3NlciIsImNsb3NlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/scan/lib/browser.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/scan/lib/logo-extractor.ts":
/*!************************************************!*\
  !*** ./src/app/api/scan/lib/logo-extractor.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractLogo: () => (/* binding */ extractLogo)\n/* harmony export */ });\n/**\n * Attempts to extract a logo URL from the page using multiple strategies:\n * 1. og:image meta tag\n * 2. Favicon link\n * 3. Image elements with \"logo\" in class/alt\n */ async function extractLogo(page, baseUrl) {\n    // Try og:image first\n    const ogImage = await page.$eval('meta[property=\"og:image\"]', (el)=>el.getAttribute(\"content\")).catch(()=>null);\n    if (ogImage) {\n        return ogImage.startsWith(\"http\") ? ogImage : new URL(ogImage, baseUrl).href;\n    }\n    // Try favicon\n    const favicon = await page.$eval('link[rel=\"icon\"], link[rel=\"shortcut icon\"]', (el)=>el.getAttribute(\"href\")).catch(()=>null);\n    if (favicon) {\n        return favicon.startsWith(\"http\") ? favicon : new URL(favicon, baseUrl).href;\n    }\n    // Try finding img with \"logo\" in class or alt\n    const logoImg = await page.evaluate(()=>{\n        const imgs = Array.from(document.querySelectorAll(\"img\"));\n        const logoImage = imgs.find((img)=>img.className.toLowerCase().includes(\"logo\") || img.alt?.toLowerCase().includes(\"logo\"));\n        return logoImage?.src || \"\";\n    });\n    return logoImg || null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi9sb2dvLWV4dHJhY3Rvci50cyIsIm1hcHBpbmdzIjoiOzs7O0FBRUE7Ozs7O0NBS0MsR0FDTSxlQUFlQSxZQUNsQkMsSUFBVSxFQUNWQyxPQUFlO0lBRWYscUJBQXFCO0lBQ3JCLE1BQU1DLFVBQVUsTUFBTUYsS0FDakJHLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQ0MsS0FBT0EsR0FBR0MsWUFBWSxDQUFDLFlBQzNEQyxLQUFLLENBQUMsSUFBTTtJQUVqQixJQUFJSixTQUFTO1FBQ1QsT0FBT0EsUUFBUUssVUFBVSxDQUFDLFVBQVVMLFVBQVUsSUFBSU0sSUFBSU4sU0FBU0QsU0FBU1EsSUFBSTtJQUNoRjtJQUVBLGNBQWM7SUFDZCxNQUFNQyxVQUFVLE1BQU1WLEtBQ2pCRyxLQUFLLENBQUMsK0NBQStDLENBQUNDLEtBQ25EQSxHQUFHQyxZQUFZLENBQUMsU0FFbkJDLEtBQUssQ0FBQyxJQUFNO0lBRWpCLElBQUlJLFNBQVM7UUFDVCxPQUFPQSxRQUFRSCxVQUFVLENBQUMsVUFDcEJHLFVBQ0EsSUFBSUYsSUFBSUUsU0FBU1QsU0FBU1EsSUFBSTtJQUN4QztJQUVBLDhDQUE4QztJQUM5QyxNQUFNRSxVQUFVLE1BQU1YLEtBQUtZLFFBQVEsQ0FBQztRQUNoQyxNQUFNQyxPQUFPQyxNQUFNQyxJQUFJLENBQUNDLFNBQVNDLGdCQUFnQixDQUFDO1FBQ2xELE1BQU1DLFlBQVlMLEtBQUtNLElBQUksQ0FDdkIsQ0FBQ0MsTUFDR0EsSUFBSUMsU0FBUyxDQUFDQyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxXQUNyQ0gsSUFBSUksR0FBRyxFQUFFRixjQUFjQyxTQUFTO1FBRXhDLE9BQU9MLFdBQVdPLE9BQU87SUFDN0I7SUFFQSxPQUFPZCxXQUFXO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JpZGxpdGUvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi9sb2dvLWV4dHJhY3Rvci50cz83MjE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2UgfSBmcm9tIFwicGxheXdyaWdodFwiO1xuXG4vKipcbiAqIEF0dGVtcHRzIHRvIGV4dHJhY3QgYSBsb2dvIFVSTCBmcm9tIHRoZSBwYWdlIHVzaW5nIG11bHRpcGxlIHN0cmF0ZWdpZXM6XG4gKiAxLiBvZzppbWFnZSBtZXRhIHRhZ1xuICogMi4gRmF2aWNvbiBsaW5rXG4gKiAzLiBJbWFnZSBlbGVtZW50cyB3aXRoIFwibG9nb1wiIGluIGNsYXNzL2FsdFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXh0cmFjdExvZ28oXG4gICAgcGFnZTogUGFnZSxcbiAgICBiYXNlVXJsOiBzdHJpbmdcbik6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgIC8vIFRyeSBvZzppbWFnZSBmaXJzdFxuICAgIGNvbnN0IG9nSW1hZ2UgPSBhd2FpdCBwYWdlXG4gICAgICAgIC4kZXZhbCgnbWV0YVtwcm9wZXJ0eT1cIm9nOmltYWdlXCJdJywgKGVsKSA9PiBlbC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpKVxuICAgICAgICAuY2F0Y2goKCkgPT4gbnVsbCk7XG5cbiAgICBpZiAob2dJbWFnZSkge1xuICAgICAgICByZXR1cm4gb2dJbWFnZS5zdGFydHNXaXRoKFwiaHR0cFwiKSA/IG9nSW1hZ2UgOiBuZXcgVVJMKG9nSW1hZ2UsIGJhc2VVcmwpLmhyZWY7XG4gICAgfVxuXG4gICAgLy8gVHJ5IGZhdmljb25cbiAgICBjb25zdCBmYXZpY29uID0gYXdhaXQgcGFnZVxuICAgICAgICAuJGV2YWwoJ2xpbmtbcmVsPVwiaWNvblwiXSwgbGlua1tyZWw9XCJzaG9ydGN1dCBpY29uXCJdJywgKGVsKSA9PlxuICAgICAgICAgICAgZWwuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaCgoKSA9PiBudWxsKTtcblxuICAgIGlmIChmYXZpY29uKSB7XG4gICAgICAgIHJldHVybiBmYXZpY29uLnN0YXJ0c1dpdGgoXCJodHRwXCIpXG4gICAgICAgICAgICA/IGZhdmljb25cbiAgICAgICAgICAgIDogbmV3IFVSTChmYXZpY29uLCBiYXNlVXJsKS5ocmVmO1xuICAgIH1cblxuICAgIC8vIFRyeSBmaW5kaW5nIGltZyB3aXRoIFwibG9nb1wiIGluIGNsYXNzIG9yIGFsdFxuICAgIGNvbnN0IGxvZ29JbWcgPSBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcbiAgICAgICAgY29uc3QgaW1ncyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImltZ1wiKSk7XG4gICAgICAgIGNvbnN0IGxvZ29JbWFnZSA9IGltZ3MuZmluZChcbiAgICAgICAgICAgIChpbWcpID0+XG4gICAgICAgICAgICAgICAgaW1nLmNsYXNzTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwibG9nb1wiKSB8fFxuICAgICAgICAgICAgICAgIGltZy5hbHQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJsb2dvXCIpXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBsb2dvSW1hZ2U/LnNyYyB8fCBcIlwiO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxvZ29JbWcgfHwgbnVsbDtcbn1cbiJdLCJuYW1lcyI6WyJleHRyYWN0TG9nbyIsInBhZ2UiLCJiYXNlVXJsIiwib2dJbWFnZSIsIiRldmFsIiwiZWwiLCJnZXRBdHRyaWJ1dGUiLCJjYXRjaCIsInN0YXJ0c1dpdGgiLCJVUkwiLCJocmVmIiwiZmF2aWNvbiIsImxvZ29JbWciLCJldmFsdWF0ZSIsImltZ3MiLCJBcnJheSIsImZyb20iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsb2dvSW1hZ2UiLCJmaW5kIiwiaW1nIiwiY2xhc3NOYW1lIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImFsdCIsInNyYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/scan/lib/logo-extractor.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/scan/lib/text-extractor.ts":
/*!************************************************!*\
  !*** ./src/app/api/scan/lib/text-extractor.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractWebsiteText: () => (/* binding */ extractWebsiteText),\n/* harmony export */   scrapeTextOnly: () => (/* binding */ scrapeTextOnly)\n/* harmony export */ });\n/**\n * Extracts clean text content from a webpage for strategy analysis.\n * Removes non-content elements like scripts, styles, navigation, and footers.\n * Caps output at 15,000 characters to stay within API limits.\n */ async function extractWebsiteText(page) {\n    const rawText = await page.evaluate(()=>{\n        // Clone the body to avoid modifying the actual page\n        const clone = document.body.cloneNode(true);\n        // Remove non-content elements\n        const selectorsToRemove = [\n            \"script\",\n            \"style\",\n            \"noscript\",\n            \"svg\",\n            \"iframe\",\n            \"nav\",\n            \"footer\",\n            \"header\",\n            \"[role='navigation']\",\n            \"[role='banner']\",\n            \"[role='contentinfo']\",\n            \".cookie-banner\",\n            \".cookie-consent\",\n            \"#cookie-banner\",\n            \".nav\",\n            \".navigation\",\n            \".footer\",\n            \".header\",\n            \".sidebar\",\n            \".advertisement\",\n            \".ad\",\n            \".social-share\"\n        ];\n        selectorsToRemove.forEach((selector)=>{\n            clone.querySelectorAll(selector).forEach((el)=>el.remove());\n        });\n        // Get text content and clean up whitespace\n        const text = clone.innerText || clone.textContent || \"\";\n        // Normalize whitespace: collapse multiple newlines/spaces\n        return text.replace(/\\s+/g, \" \").replace(/\\n\\s*\\n/g, \"\\n\").trim();\n    });\n    // Cap at 15,000 characters to stay within reasonable API limits\n    const MAX_LENGTH = 15000;\n    if (rawText.length > MAX_LENGTH) {\n        return rawText.slice(0, MAX_LENGTH) + \"...\";\n    }\n    return rawText;\n}\n/**\n * Lightweight text-only scrape for Dashboard â†’ Strategy flow.\n * Reuses browser session utilities but skips screenshot.\n */ async function scrapeTextOnly(page) {\n    const [text, title] = await Promise.all([\n        extractWebsiteText(page),\n        page.title()\n    ]);\n    return {\n        text,\n        title\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi90ZXh0LWV4dHJhY3Rvci50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUVBOzs7O0NBSUMsR0FDTSxlQUFlQSxtQkFBbUJDLElBQVU7SUFDakQsTUFBTUMsVUFBVSxNQUFNRCxLQUFLRSxRQUFRLENBQUM7UUFDbEMsb0RBQW9EO1FBQ3BELE1BQU1DLFFBQVFDLFNBQVNDLElBQUksQ0FBQ0MsU0FBUyxDQUFDO1FBRXRDLDhCQUE4QjtRQUM5QixNQUFNQyxvQkFBb0I7WUFDeEI7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7U0FDRDtRQUVEQSxrQkFBa0JDLE9BQU8sQ0FBQyxDQUFDQztZQUN6Qk4sTUFBTU8sZ0JBQWdCLENBQUNELFVBQVVELE9BQU8sQ0FBQyxDQUFDRyxLQUFPQSxHQUFHQyxNQUFNO1FBQzVEO1FBRUEsMkNBQTJDO1FBQzNDLE1BQU1DLE9BQU9WLE1BQU1XLFNBQVMsSUFBSVgsTUFBTVksV0FBVyxJQUFJO1FBRXJELDBEQUEwRDtRQUMxRCxPQUFPRixLQUNKRyxPQUFPLENBQUMsUUFBUSxLQUNoQkEsT0FBTyxDQUFDLFlBQVksTUFDcEJDLElBQUk7SUFDVDtJQUVBLGdFQUFnRTtJQUNoRSxNQUFNQyxhQUFhO0lBQ25CLElBQUlqQixRQUFRa0IsTUFBTSxHQUFHRCxZQUFZO1FBQy9CLE9BQU9qQixRQUFRbUIsS0FBSyxDQUFDLEdBQUdGLGNBQWM7SUFDeEM7SUFFQSxPQUFPakI7QUFDVDtBQUVBOzs7Q0FHQyxHQUNNLGVBQWVvQixlQUNwQnJCLElBQVU7SUFFVixNQUFNLENBQUNhLE1BQU1TLE1BQU0sR0FBRyxNQUFNQyxRQUFRQyxHQUFHLENBQUM7UUFDdEN6QixtQkFBbUJDO1FBQ25CQSxLQUFLc0IsS0FBSztLQUNYO0lBRUQsT0FBTztRQUFFVDtRQUFNUztJQUFNO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JpZGxpdGUvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi90ZXh0LWV4dHJhY3Rvci50cz8xZWY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2UgfSBmcm9tIFwicGxheXdyaWdodFwiO1xuXG4vKipcbiAqIEV4dHJhY3RzIGNsZWFuIHRleHQgY29udGVudCBmcm9tIGEgd2VicGFnZSBmb3Igc3RyYXRlZ3kgYW5hbHlzaXMuXG4gKiBSZW1vdmVzIG5vbi1jb250ZW50IGVsZW1lbnRzIGxpa2Ugc2NyaXB0cywgc3R5bGVzLCBuYXZpZ2F0aW9uLCBhbmQgZm9vdGVycy5cbiAqIENhcHMgb3V0cHV0IGF0IDE1LDAwMCBjaGFyYWN0ZXJzIHRvIHN0YXkgd2l0aGluIEFQSSBsaW1pdHMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleHRyYWN0V2Vic2l0ZVRleHQocGFnZTogUGFnZSk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHJhd1RleHQgPSBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcbiAgICAvLyBDbG9uZSB0aGUgYm9keSB0byBhdm9pZCBtb2RpZnlpbmcgdGhlIGFjdHVhbCBwYWdlXG4gICAgY29uc3QgY2xvbmUgPSBkb2N1bWVudC5ib2R5LmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MRWxlbWVudDtcblxuICAgIC8vIFJlbW92ZSBub24tY29udGVudCBlbGVtZW50c1xuICAgIGNvbnN0IHNlbGVjdG9yc1RvUmVtb3ZlID0gW1xuICAgICAgXCJzY3JpcHRcIixcbiAgICAgIFwic3R5bGVcIixcbiAgICAgIFwibm9zY3JpcHRcIixcbiAgICAgIFwic3ZnXCIsXG4gICAgICBcImlmcmFtZVwiLFxuICAgICAgXCJuYXZcIixcbiAgICAgIFwiZm9vdGVyXCIsXG4gICAgICBcImhlYWRlclwiLFxuICAgICAgXCJbcm9sZT0nbmF2aWdhdGlvbiddXCIsXG4gICAgICBcIltyb2xlPSdiYW5uZXInXVwiLFxuICAgICAgXCJbcm9sZT0nY29udGVudGluZm8nXVwiLFxuICAgICAgXCIuY29va2llLWJhbm5lclwiLFxuICAgICAgXCIuY29va2llLWNvbnNlbnRcIixcbiAgICAgIFwiI2Nvb2tpZS1iYW5uZXJcIixcbiAgICAgIFwiLm5hdlwiLFxuICAgICAgXCIubmF2aWdhdGlvblwiLFxuICAgICAgXCIuZm9vdGVyXCIsXG4gICAgICBcIi5oZWFkZXJcIixcbiAgICAgIFwiLnNpZGViYXJcIixcbiAgICAgIFwiLmFkdmVydGlzZW1lbnRcIixcbiAgICAgIFwiLmFkXCIsXG4gICAgICBcIi5zb2NpYWwtc2hhcmVcIixcbiAgICBdO1xuXG4gICAgc2VsZWN0b3JzVG9SZW1vdmUuZm9yRWFjaCgoc2VsZWN0b3IpID0+IHtcbiAgICAgIGNsb25lLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLmZvckVhY2goKGVsKSA9PiBlbC5yZW1vdmUoKSk7XG4gICAgfSk7XG5cbiAgICAvLyBHZXQgdGV4dCBjb250ZW50IGFuZCBjbGVhbiB1cCB3aGl0ZXNwYWNlXG4gICAgY29uc3QgdGV4dCA9IGNsb25lLmlubmVyVGV4dCB8fCBjbG9uZS50ZXh0Q29udGVudCB8fCBcIlwiO1xuXG4gICAgLy8gTm9ybWFsaXplIHdoaXRlc3BhY2U6IGNvbGxhcHNlIG11bHRpcGxlIG5ld2xpbmVzL3NwYWNlc1xuICAgIHJldHVybiB0ZXh0XG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIilcbiAgICAgIC5yZXBsYWNlKC9cXG5cXHMqXFxuL2csIFwiXFxuXCIpXG4gICAgICAudHJpbSgpO1xuICB9KTtcblxuICAvLyBDYXAgYXQgMTUsMDAwIGNoYXJhY3RlcnMgdG8gc3RheSB3aXRoaW4gcmVhc29uYWJsZSBBUEkgbGltaXRzXG4gIGNvbnN0IE1BWF9MRU5HVEggPSAxNTAwMDtcbiAgaWYgKHJhd1RleHQubGVuZ3RoID4gTUFYX0xFTkdUSCkge1xuICAgIHJldHVybiByYXdUZXh0LnNsaWNlKDAsIE1BWF9MRU5HVEgpICsgXCIuLi5cIjtcbiAgfVxuXG4gIHJldHVybiByYXdUZXh0O1xufVxuXG4vKipcbiAqIExpZ2h0d2VpZ2h0IHRleHQtb25seSBzY3JhcGUgZm9yIERhc2hib2FyZCDihpIgU3RyYXRlZ3kgZmxvdy5cbiAqIFJldXNlcyBicm93c2VyIHNlc3Npb24gdXRpbGl0aWVzIGJ1dCBza2lwcyBzY3JlZW5zaG90LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2NyYXBlVGV4dE9ubHkoXG4gIHBhZ2U6IFBhZ2Vcbik6IFByb21pc2U8eyB0ZXh0OiBzdHJpbmc7IHRpdGxlOiBzdHJpbmcgfT4ge1xuICBjb25zdCBbdGV4dCwgdGl0bGVdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIGV4dHJhY3RXZWJzaXRlVGV4dChwYWdlKSxcbiAgICBwYWdlLnRpdGxlKCksXG4gIF0pO1xuXG4gIHJldHVybiB7IHRleHQsIHRpdGxlIH07XG59XG4iXSwibmFtZXMiOlsiZXh0cmFjdFdlYnNpdGVUZXh0IiwicGFnZSIsInJhd1RleHQiLCJldmFsdWF0ZSIsImNsb25lIiwiZG9jdW1lbnQiLCJib2R5IiwiY2xvbmVOb2RlIiwic2VsZWN0b3JzVG9SZW1vdmUiLCJmb3JFYWNoIiwic2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWwiLCJyZW1vdmUiLCJ0ZXh0IiwiaW5uZXJUZXh0IiwidGV4dENvbnRlbnQiLCJyZXBsYWNlIiwidHJpbSIsIk1BWF9MRU5HVEgiLCJsZW5ndGgiLCJzbGljZSIsInNjcmFwZVRleHRPbmx5IiwidGl0bGUiLCJQcm9taXNlIiwiYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/scan/lib/text-extractor.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/scan/lib/url-utils.ts":
/*!*******************************************!*\
  !*** ./src/app/api/scan/lib/url-utils.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseUrl: () => (/* binding */ parseUrl)\n/* harmony export */ });\n/**\n * Validates and normalizes a URL string.\n * Adds https:// if no protocol is present.\n * Returns the normalized URL or null if invalid.\n */ function parseUrl(url) {\n    if (!url || typeof url !== \"string\") {\n        return null;\n    }\n    const normalized = url.startsWith(\"http\") ? url : `https://${url}`;\n    try {\n        new URL(normalized);\n        return normalized;\n    } catch  {\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi91cmwtdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7O0NBSUMsR0FDTSxTQUFTQSxTQUFTQyxHQUFZO0lBQ2pDLElBQUksQ0FBQ0EsT0FBTyxPQUFPQSxRQUFRLFVBQVU7UUFDakMsT0FBTztJQUNYO0lBRUEsTUFBTUMsYUFBYUQsSUFBSUUsVUFBVSxDQUFDLFVBQVVGLE1BQU0sQ0FBQyxRQUFRLEVBQUVBLElBQUksQ0FBQztJQUVsRSxJQUFJO1FBQ0EsSUFBSUcsSUFBSUY7UUFDUixPQUFPQTtJQUNYLEVBQUUsT0FBTTtRQUNKLE9BQU87SUFDWDtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JpZGxpdGUvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi91cmwtdXRpbHMudHM/Y2YyNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFZhbGlkYXRlcyBhbmQgbm9ybWFsaXplcyBhIFVSTCBzdHJpbmcuXG4gKiBBZGRzIGh0dHBzOi8vIGlmIG5vIHByb3RvY29sIGlzIHByZXNlbnQuXG4gKiBSZXR1cm5zIHRoZSBub3JtYWxpemVkIFVSTCBvciBudWxsIGlmIGludmFsaWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVybCh1cmw6IHVua25vd24pOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoIXVybCB8fCB0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB1cmwuc3RhcnRzV2l0aChcImh0dHBcIikgPyB1cmwgOiBgaHR0cHM6Ly8ke3VybH1gO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgbmV3IFVSTChub3JtYWxpemVkKTtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJwYXJzZVVybCIsInVybCIsIm5vcm1hbGl6ZWQiLCJzdGFydHNXaXRoIiwiVVJMIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/scan/lib/url-utils.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/scan/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/scan/route.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/browser */ \"(rsc)/./src/app/api/scan/lib/browser.ts\");\n/* harmony import */ var _lib_logo_extractor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/logo-extractor */ \"(rsc)/./src/app/api/scan/lib/logo-extractor.ts\");\n/* harmony import */ var _lib_ai_analyzer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/ai-analyzer */ \"(rsc)/./src/app/api/scan/lib/ai-analyzer.ts\");\n/* harmony import */ var _lib_url_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/url-utils */ \"(rsc)/./src/app/api/scan/lib/url-utils.ts\");\n/* harmony import */ var _lib_text_extractor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/text-extractor */ \"(rsc)/./src/app/api/scan/lib/text-extractor.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_browser__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_browser__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n// Force Node.js runtime (Playwright doesn't work in Edge runtime)\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nasync function POST(request) {\n    const encoder = new TextEncoder();\n    try {\n        const body = await request.json();\n        const normalizedUrl = (0,_lib_url_utils__WEBPACK_IMPORTED_MODULE_4__.parseUrl)(body.url);\n        if (!normalizedUrl) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid URL provided\"\n            }, {\n                status: 400\n            });\n        }\n        // Create a streaming response\n        const stream = new ReadableStream({\n            async start (controller) {\n                let browser = null;\n                const sendStatus = (step)=>{\n                    const message = JSON.stringify({\n                        type: \"status\",\n                        step\n                    }) + \"\\n\";\n                    controller.enqueue(encoder.encode(message));\n                };\n                const sendError = (message)=>{\n                    const errorMsg = JSON.stringify({\n                        type: \"error\",\n                        message\n                    }) + \"\\n\";\n                    controller.enqueue(encoder.encode(errorMsg));\n                };\n                try {\n                    // STEP 1: Launch browser and navigate\n                    sendStatus(\"extracting_text\");\n                    const session = await (0,_lib_browser__WEBPACK_IMPORTED_MODULE_1__.createBrowserSession)(normalizedUrl);\n                    browser = session.browser;\n                    // STEP 2: Extract Logo\n                    sendStatus(\"extracting_logo\");\n                    const logoUrl = await (0,_lib_logo_extractor__WEBPACK_IMPORTED_MODULE_2__.extractLogo)(session.page, normalizedUrl);\n                    // STEP 3: Take screenshot for AI analysis\n                    sendStatus(\"analyzing_colors\");\n                    const screenshotBuffer = await (0,_lib_browser__WEBPACK_IMPORTED_MODULE_1__.captureScreenshot)(session.page);\n                    // STEP 3.5: Extract raw text for Strategy phase\n                    const rawWebsiteText = await (0,_lib_text_extractor__WEBPACK_IMPORTED_MODULE_5__.extractWebsiteText)(session.page);\n                    // Close browser before AI analysis\n                    await (0,_lib_browser__WEBPACK_IMPORTED_MODULE_1__.closeBrowser)(browser);\n                    browser = null;\n                    // STEP 4: AI Analysis with Gemini\n                    sendStatus(\"analyzing_ai\");\n                    const aiData = await (0,_lib_ai_analyzer__WEBPACK_IMPORTED_MODULE_3__.analyzeWithAI)(screenshotBuffer);\n                    // Ensure we have colors\n                    const finalColors = aiData.colors && aiData.colors.length > 0 ? aiData.colors.slice(0, 4) : [\n                        \"#4F46E5\",\n                        \"#F97316\",\n                        \"#10B981\",\n                        \"#8B5CF6\"\n                    ];\n                    // STEP 5: Send final result\n                    const finalData = {\n                        logo: logoUrl || \"\\uD83D\\uDE80\",\n                        colors: finalColors,\n                        businessName: aiData.businessName,\n                        shortName: aiData.shortName,\n                        tagline: aiData.tagline || \"Innovation meets excellence\",\n                        voice: aiData.voice || [\n                            \"Innovative\",\n                            \"Trustworthy\",\n                            \"Modern\"\n                        ],\n                        tone: aiData.tone || \"Professional yet approachable\",\n                        industry: aiData.industry,\n                        brandSummary: aiData.brandSummary,\n                        targetAudiences: aiData.targetAudiences,\n                        rawWebsiteText\n                    };\n                    const completeMessage = JSON.stringify({\n                        type: \"complete\",\n                        data: finalData\n                    }) + \"\\n\";\n                    controller.enqueue(encoder.encode(completeMessage));\n                    controller.close();\n                } catch (error) {\n                    await (0,_lib_browser__WEBPACK_IMPORTED_MODULE_1__.closeBrowser)(browser);\n                    if (error instanceof Error && (0,_lib_ai_analyzer__WEBPACK_IMPORTED_MODULE_3__.isRateLimitError)(error)) {\n                        sendError(\"AI is currently busy (Rate Limit). Please wait 30 seconds and try again.\");\n                    } else {\n                        sendError(error instanceof Error ? error.message : \"Unknown error occurred\");\n                    }\n                    controller.close();\n                }\n            }\n        });\n        return new Response(stream, {\n            headers: {\n                \"Content-Type\": \"text/plain; charset=utf-8\",\n                \"Transfer-Encoding\": \"chunked\"\n            }\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Failed to process request\"\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zY2FuL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUF3RDtBQU1qQztBQUM0QjtBQUNpQjtBQUN6QjtBQUNlO0FBRTFELGtFQUFrRTtBQUMzRCxNQUFNUyxVQUFVLFNBQVM7QUFDekIsTUFBTUMsVUFBVSxnQkFBZ0I7QUFFaEMsZUFBZUMsS0FBS0MsT0FBb0I7SUFDN0MsTUFBTUMsVUFBVSxJQUFJQztJQUVwQixJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNSCxRQUFRSSxJQUFJO1FBQy9CLE1BQU1DLGdCQUFnQlYsd0RBQVFBLENBQUNRLEtBQUtHLEdBQUc7UUFFdkMsSUFBSSxDQUFDRCxlQUFlO1lBQ2xCLE9BQU9qQixxREFBWUEsQ0FBQ2dCLElBQUksQ0FDdEI7Z0JBQUVHLE9BQU87WUFBdUIsR0FDaEM7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLDhCQUE4QjtRQUM5QixNQUFNQyxTQUFTLElBQUlDLGVBQWU7WUFDaEMsTUFBTUMsT0FBTUMsVUFBVTtnQkFDcEIsSUFBSUMsVUFBVTtnQkFFZCxNQUFNQyxhQUFhLENBQUNDO29CQUNsQixNQUFNQyxVQUFVQyxLQUFLQyxTQUFTLENBQUM7d0JBQUVDLE1BQU07d0JBQVVKO29CQUFLLEtBQUs7b0JBQzNESCxXQUFXUSxPQUFPLENBQUNuQixRQUFRb0IsTUFBTSxDQUFDTDtnQkFDcEM7Z0JBRUEsTUFBTU0sWUFBWSxDQUFDTjtvQkFDakIsTUFBTU8sV0FBV04sS0FBS0MsU0FBUyxDQUFDO3dCQUFFQyxNQUFNO3dCQUFTSDtvQkFBUSxLQUFLO29CQUM5REosV0FBV1EsT0FBTyxDQUFDbkIsUUFBUW9CLE1BQU0sQ0FBQ0U7Z0JBQ3BDO2dCQUVBLElBQUk7b0JBQ0Ysc0NBQXNDO29CQUN0Q1QsV0FBVztvQkFDWCxNQUFNVSxVQUFVLE1BQU1uQyxrRUFBb0JBLENBQUNnQjtvQkFDM0NRLFVBQVVXLFFBQVFYLE9BQU87b0JBRXpCLHVCQUF1QjtvQkFDdkJDLFdBQVc7b0JBQ1gsTUFBTVcsVUFBVSxNQUFNakMsZ0VBQVdBLENBQUNnQyxRQUFRRSxJQUFJLEVBQUVyQjtvQkFFaEQsMENBQTBDO29CQUMxQ1MsV0FBVztvQkFDWCxNQUFNYSxtQkFBbUIsTUFBTXJDLCtEQUFpQkEsQ0FBQ2tDLFFBQVFFLElBQUk7b0JBRTdELGdEQUFnRDtvQkFDaEQsTUFBTUUsaUJBQWlCLE1BQU1oQyx1RUFBa0JBLENBQUM0QixRQUFRRSxJQUFJO29CQUU1RCxtQ0FBbUM7b0JBQ25DLE1BQU1uQywwREFBWUEsQ0FBQ3NCO29CQUNuQkEsVUFBVTtvQkFFVixrQ0FBa0M7b0JBQ2xDQyxXQUFXO29CQUNYLE1BQU1lLFNBQVMsTUFBTXBDLCtEQUFhQSxDQUFDa0M7b0JBRW5DLHdCQUF3QjtvQkFDeEIsTUFBTUcsY0FDSkQsT0FBT0UsTUFBTSxJQUFJRixPQUFPRSxNQUFNLENBQUNDLE1BQU0sR0FBRyxJQUNwQ0gsT0FBT0UsTUFBTSxDQUFDRSxLQUFLLENBQUMsR0FBRyxLQUN2Qjt3QkFBQzt3QkFBVzt3QkFBVzt3QkFBVztxQkFBVTtvQkFFbEQsNEJBQTRCO29CQUM1QixNQUFNQyxZQUF3Qjt3QkFDNUJDLE1BQU1WLFdBQVc7d0JBQ2pCTSxRQUFRRDt3QkFDUk0sY0FBY1AsT0FBT08sWUFBWTt3QkFDakNDLFdBQVdSLE9BQU9RLFNBQVM7d0JBQzNCQyxTQUFTVCxPQUFPUyxPQUFPLElBQUk7d0JBQzNCQyxPQUFPVixPQUFPVSxLQUFLLElBQUk7NEJBQUM7NEJBQWM7NEJBQWU7eUJBQVM7d0JBQzlEQyxNQUFNWCxPQUFPVyxJQUFJLElBQUk7d0JBQ3JCQyxVQUFVWixPQUFPWSxRQUFRO3dCQUN6QkMsY0FBY2IsT0FBT2EsWUFBWTt3QkFDakNDLGlCQUFpQmQsT0FBT2MsZUFBZTt3QkFDdkNmO29CQUNGO29CQUVBLE1BQU1nQixrQkFDSjNCLEtBQUtDLFNBQVMsQ0FBQzt3QkFBRUMsTUFBTTt3QkFBWTBCLE1BQU1YO29CQUFVLEtBQUs7b0JBQzFEdEIsV0FBV1EsT0FBTyxDQUFDbkIsUUFBUW9CLE1BQU0sQ0FBQ3VCO29CQUNsQ2hDLFdBQVdrQyxLQUFLO2dCQUNsQixFQUFFLE9BQU92QyxPQUFPO29CQUNkLE1BQU1oQiwwREFBWUEsQ0FBQ3NCO29CQUVuQixJQUFJTixpQkFBaUJ3QyxTQUFTckQsa0VBQWdCQSxDQUFDYSxRQUFRO3dCQUNyRGUsVUFDRTtvQkFFSixPQUFPO3dCQUNMQSxVQUNFZixpQkFBaUJ3QyxRQUFReEMsTUFBTVMsT0FBTyxHQUFHO29CQUU3QztvQkFDQUosV0FBV2tDLEtBQUs7Z0JBQ2xCO1lBQ0Y7UUFDRjtRQUVBLE9BQU8sSUFBSUUsU0FBU3ZDLFFBQVE7WUFDMUJ3QyxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIscUJBQXFCO1lBQ3ZCO1FBQ0Y7SUFDRixFQUFFLE9BQU8xQyxPQUFPO1FBQ2QsT0FBT25CLHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUN0QjtZQUNFRyxPQUNFQSxpQkFBaUJ3QyxRQUFReEMsTUFBTVMsT0FBTyxHQUFHO1FBQzdDLEdBQ0E7WUFBRVIsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmlkbGl0ZS8uL3NyYy9hcHAvYXBpL3NjYW4vcm91dGUudHM/NmZjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBTY2FuUmVzdWx0IH0gZnJvbSBcIi4vbGliL3R5cGVzXCI7XG5pbXBvcnQge1xuICBjcmVhdGVCcm93c2VyU2Vzc2lvbixcbiAgY2FwdHVyZVNjcmVlbnNob3QsXG4gIGNsb3NlQnJvd3Nlcixcbn0gZnJvbSBcIi4vbGliL2Jyb3dzZXJcIjtcbmltcG9ydCB7IGV4dHJhY3RMb2dvIH0gZnJvbSBcIi4vbGliL2xvZ28tZXh0cmFjdG9yXCI7XG5pbXBvcnQgeyBhbmFseXplV2l0aEFJLCBpc1JhdGVMaW1pdEVycm9yIH0gZnJvbSBcIi4vbGliL2FpLWFuYWx5emVyXCI7XG5pbXBvcnQgeyBwYXJzZVVybCB9IGZyb20gXCIuL2xpYi91cmwtdXRpbHNcIjtcbmltcG9ydCB7IGV4dHJhY3RXZWJzaXRlVGV4dCB9IGZyb20gXCIuL2xpYi90ZXh0LWV4dHJhY3RvclwiO1xuXG4vLyBGb3JjZSBOb2RlLmpzIHJ1bnRpbWUgKFBsYXl3cmlnaHQgZG9lc24ndCB3b3JrIGluIEVkZ2UgcnVudGltZSlcbmV4cG9ydCBjb25zdCBydW50aW1lID0gXCJub2RlanNcIjtcbmV4cG9ydCBjb25zdCBkeW5hbWljID0gXCJmb3JjZS1keW5hbWljXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcblxuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCBub3JtYWxpemVkVXJsID0gcGFyc2VVcmwoYm9keS51cmwpO1xuXG4gICAgaWYgKCFub3JtYWxpemVkVXJsKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IFwiSW52YWxpZCBVUkwgcHJvdmlkZWRcIiB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgc3RyZWFtaW5nIHJlc3BvbnNlXG4gICAgY29uc3Qgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgIGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgbGV0IGJyb3dzZXIgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IHNlbmRTdGF0dXMgPSAoc3RlcDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJzdGF0dXNcIiwgc3RlcCB9KSArIFwiXFxuXCI7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKG1lc3NhZ2UpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzZW5kRXJyb3IgPSAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwiZXJyb3JcIiwgbWVzc2FnZSB9KSArIFwiXFxuXCI7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKGVycm9yTXNnKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBTVEVQIDE6IExhdW5jaCBicm93c2VyIGFuZCBuYXZpZ2F0ZVxuICAgICAgICAgIHNlbmRTdGF0dXMoXCJleHRyYWN0aW5nX3RleHRcIik7XG4gICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGNyZWF0ZUJyb3dzZXJTZXNzaW9uKG5vcm1hbGl6ZWRVcmwpO1xuICAgICAgICAgIGJyb3dzZXIgPSBzZXNzaW9uLmJyb3dzZXI7XG5cbiAgICAgICAgICAvLyBTVEVQIDI6IEV4dHJhY3QgTG9nb1xuICAgICAgICAgIHNlbmRTdGF0dXMoXCJleHRyYWN0aW5nX2xvZ29cIik7XG4gICAgICAgICAgY29uc3QgbG9nb1VybCA9IGF3YWl0IGV4dHJhY3RMb2dvKHNlc3Npb24ucGFnZSwgbm9ybWFsaXplZFVybCk7XG5cbiAgICAgICAgICAvLyBTVEVQIDM6IFRha2Ugc2NyZWVuc2hvdCBmb3IgQUkgYW5hbHlzaXNcbiAgICAgICAgICBzZW5kU3RhdHVzKFwiYW5hbHl6aW5nX2NvbG9yc1wiKTtcbiAgICAgICAgICBjb25zdCBzY3JlZW5zaG90QnVmZmVyID0gYXdhaXQgY2FwdHVyZVNjcmVlbnNob3Qoc2Vzc2lvbi5wYWdlKTtcblxuICAgICAgICAgIC8vIFNURVAgMy41OiBFeHRyYWN0IHJhdyB0ZXh0IGZvciBTdHJhdGVneSBwaGFzZVxuICAgICAgICAgIGNvbnN0IHJhd1dlYnNpdGVUZXh0ID0gYXdhaXQgZXh0cmFjdFdlYnNpdGVUZXh0KHNlc3Npb24ucGFnZSk7XG5cbiAgICAgICAgICAvLyBDbG9zZSBicm93c2VyIGJlZm9yZSBBSSBhbmFseXNpc1xuICAgICAgICAgIGF3YWl0IGNsb3NlQnJvd3Nlcihicm93c2VyKTtcbiAgICAgICAgICBicm93c2VyID0gbnVsbDtcblxuICAgICAgICAgIC8vIFNURVAgNDogQUkgQW5hbHlzaXMgd2l0aCBHZW1pbmlcbiAgICAgICAgICBzZW5kU3RhdHVzKFwiYW5hbHl6aW5nX2FpXCIpO1xuICAgICAgICAgIGNvbnN0IGFpRGF0YSA9IGF3YWl0IGFuYWx5emVXaXRoQUkoc2NyZWVuc2hvdEJ1ZmZlcik7XG5cbiAgICAgICAgICAvLyBFbnN1cmUgd2UgaGF2ZSBjb2xvcnNcbiAgICAgICAgICBjb25zdCBmaW5hbENvbG9ycyA9XG4gICAgICAgICAgICBhaURhdGEuY29sb3JzICYmIGFpRGF0YS5jb2xvcnMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICA/IGFpRGF0YS5jb2xvcnMuc2xpY2UoMCwgNClcbiAgICAgICAgICAgICAgOiBbXCIjNEY0NkU1XCIsIFwiI0Y5NzMxNlwiLCBcIiMxMEI5ODFcIiwgXCIjOEI1Q0Y2XCJdO1xuXG4gICAgICAgICAgLy8gU1RFUCA1OiBTZW5kIGZpbmFsIHJlc3VsdFxuICAgICAgICAgIGNvbnN0IGZpbmFsRGF0YTogU2NhblJlc3VsdCA9IHtcbiAgICAgICAgICAgIGxvZ286IGxvZ29VcmwgfHwgXCLwn5qAXCIsXG4gICAgICAgICAgICBjb2xvcnM6IGZpbmFsQ29sb3JzLFxuICAgICAgICAgICAgYnVzaW5lc3NOYW1lOiBhaURhdGEuYnVzaW5lc3NOYW1lLFxuICAgICAgICAgICAgc2hvcnROYW1lOiBhaURhdGEuc2hvcnROYW1lLFxuICAgICAgICAgICAgdGFnbGluZTogYWlEYXRhLnRhZ2xpbmUgfHwgXCJJbm5vdmF0aW9uIG1lZXRzIGV4Y2VsbGVuY2VcIixcbiAgICAgICAgICAgIHZvaWNlOiBhaURhdGEudm9pY2UgfHwgW1wiSW5ub3ZhdGl2ZVwiLCBcIlRydXN0d29ydGh5XCIsIFwiTW9kZXJuXCJdLFxuICAgICAgICAgICAgdG9uZTogYWlEYXRhLnRvbmUgfHwgXCJQcm9mZXNzaW9uYWwgeWV0IGFwcHJvYWNoYWJsZVwiLFxuICAgICAgICAgICAgaW5kdXN0cnk6IGFpRGF0YS5pbmR1c3RyeSxcbiAgICAgICAgICAgIGJyYW5kU3VtbWFyeTogYWlEYXRhLmJyYW5kU3VtbWFyeSxcbiAgICAgICAgICAgIHRhcmdldEF1ZGllbmNlczogYWlEYXRhLnRhcmdldEF1ZGllbmNlcyxcbiAgICAgICAgICAgIHJhd1dlYnNpdGVUZXh0LFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjb25zdCBjb21wbGV0ZU1lc3NhZ2UgPVxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiBcImNvbXBsZXRlXCIsIGRhdGE6IGZpbmFsRGF0YSB9KSArIFwiXFxuXCI7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKGNvbXBsZXRlTWVzc2FnZSkpO1xuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBhd2FpdCBjbG9zZUJyb3dzZXIoYnJvd3Nlcik7XG5cbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBpc1JhdGVMaW1pdEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgc2VuZEVycm9yKFxuICAgICAgICAgICAgICBcIkFJIGlzIGN1cnJlbnRseSBidXN5IChSYXRlIExpbWl0KS4gUGxlYXNlIHdhaXQgMzAgc2Vjb25kcyBhbmQgdHJ5IGFnYWluLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZW5kRXJyb3IoXG4gICAgICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yIG9jY3VycmVkXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2Uoc3RyZWFtLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICBcIlRyYW5zZmVyLUVuY29kaW5nXCI6IFwiY2h1bmtlZFwiLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7XG4gICAgICAgIGVycm9yOlxuICAgICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gcHJvY2VzcyByZXF1ZXN0XCIsXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZUJyb3dzZXJTZXNzaW9uIiwiY2FwdHVyZVNjcmVlbnNob3QiLCJjbG9zZUJyb3dzZXIiLCJleHRyYWN0TG9nbyIsImFuYWx5emVXaXRoQUkiLCJpc1JhdGVMaW1pdEVycm9yIiwicGFyc2VVcmwiLCJleHRyYWN0V2Vic2l0ZVRleHQiLCJydW50aW1lIiwiZHluYW1pYyIsIlBPU1QiLCJyZXF1ZXN0IiwiZW5jb2RlciIsIlRleHRFbmNvZGVyIiwiYm9keSIsImpzb24iLCJub3JtYWxpemVkVXJsIiwidXJsIiwiZXJyb3IiLCJzdGF0dXMiLCJzdHJlYW0iLCJSZWFkYWJsZVN0cmVhbSIsInN0YXJ0IiwiY29udHJvbGxlciIsImJyb3dzZXIiLCJzZW5kU3RhdHVzIiwic3RlcCIsIm1lc3NhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwidHlwZSIsImVucXVldWUiLCJlbmNvZGUiLCJzZW5kRXJyb3IiLCJlcnJvck1zZyIsInNlc3Npb24iLCJsb2dvVXJsIiwicGFnZSIsInNjcmVlbnNob3RCdWZmZXIiLCJyYXdXZWJzaXRlVGV4dCIsImFpRGF0YSIsImZpbmFsQ29sb3JzIiwiY29sb3JzIiwibGVuZ3RoIiwic2xpY2UiLCJmaW5hbERhdGEiLCJsb2dvIiwiYnVzaW5lc3NOYW1lIiwic2hvcnROYW1lIiwidGFnbGluZSIsInZvaWNlIiwidG9uZSIsImluZHVzdHJ5IiwiYnJhbmRTdW1tYXJ5IiwidGFyZ2V0QXVkaWVuY2VzIiwiY29tcGxldGVNZXNzYWdlIiwiZGF0YSIsImNsb3NlIiwiRXJyb3IiLCJSZXNwb25zZSIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/scan/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@ghostery","vendor-chunks/@remusao","vendor-chunks/tldts-core","vendor-chunks/tldts-experimental","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscan%2Froute&page=%2Fapi%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscan%2Froute.ts&appDir=%2FUsers%2Fpiotrostiak%2FDev%2FGridLite%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpiotrostiak%2FDev%2FGridLite&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();
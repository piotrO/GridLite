"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/scan/route";
exports.ids = ["app/api/scan/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "playwright":
/*!*****************************!*\
  !*** external "playwright" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("playwright");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscan%2Froute&page=%2Fapi%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscan%2Froute.ts&appDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscan%2Froute&page=%2Fapi%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscan%2Froute.ts&appDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_piotrostiak_Dev_ai_grid_lite_src_app_api_scan_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/scan/route.ts */ \"(rsc)/./src/app/api/scan/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_Users_piotrostiak_Dev_ai_grid_lite_src_app_api_scan_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_Users_piotrostiak_Dev_ai_grid_lite_src_app_api_scan_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/scan/route\",\n        pathname: \"/api/scan\",\n        filename: \"route\",\n        bundlePath: \"app/api/scan/route\"\n    },\n    resolvedPagePath: \"/Users/piotrostiak/Dev/ai/grid-lite/src/app/api/scan/route.ts\",\n    nextConfigOutput,\n    userland: _Users_piotrostiak_Dev_ai_grid_lite_src_app_api_scan_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/scan/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzY2FuJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzY2FuJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc2NhbiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnBpb3Ryb3N0aWFrJTJGRGV2JTJGYWklMkZncmlkLWxpdGUlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGcGlvdHJvc3RpYWslMkZEZXYlMkZhaSUyRmdyaWQtbGl0ZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDYTtBQUMxRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2dyaWRsaXRlLz8yMmJmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9waW90cm9zdGlhay9EZXYvYWkvZ3JpZC1saXRlL3NyYy9hcHAvYXBpL3NjYW4vcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NjYW4vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zY2FuXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9zY2FuL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3Bpb3Ryb3N0aWFrL0Rldi9haS9ncmlkLWxpdGUvc3JjL2FwcC9hcGkvc2Nhbi9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvc2Nhbi9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscan%2Froute&page=%2Fapi%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscan%2Froute.ts&appDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/scan/lib/ai-analyzer.ts":
/*!*********************************************!*\
  !*** ./src/app/api/scan/lib/ai-analyzer.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeWithAI: () => (/* binding */ analyzeWithAI),\n/* harmony export */   isRateLimitError: () => (/* binding */ isRateLimitError)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\nconst AI_PROMPT = `\nRole: You are an award-winning Creative Director and Direct-Response Copywriter.\nTask: Analyze this website screenshot to extract brand information.\n\nCRITICAL SAFETY INSTRUCTION:\nIf the screenshot contains text like \"Access Denied\", \"Cloudflare\", \"Verify you are human\", \"Captcha\", or \"403 Forbidden\":\n1. IGNORE the screenshot visual content completely.\n2. INSTEAD, infer the brand from the URL or create a generic, high-quality response for a \"Premium Tech Brand\".\n3. DO NOT write content about \"Verifying Humanity\" or \"Cookies\".\n\nExtract the following and return ONLY raw JSON:\n\n1. \"colors\": The 3 dominant brand hex colors from the website.\n2. \"tagline\": A concise brand tagline (max 10 words) based on the website content.\n3. \"voice\": Array of 3 adjectives describing the brand voice.\n4. \"tone\": Professional description of brand tone (max 50 words).\n5. \"logoDescription\": Short description of logo style.\n6. \"brandSummary\": What does this company sell/do? (1 sentence).\n7. \"visualKeyword\": A vivid AI image prompt (3-5 words) for generating a background matching the brand's vibe (include mood/lighting/style).\n8. \"headline\": A punchy, benefit-driven headline (max 6 words) - focus on user benefit, avoid generic greetings.\n9. \"sub\": A supporting sentence (max 8 words) that clarifies the offer or adds social proof.\n10. \"cta\": A high-conversion Call to Action button text (use strong verbs like \"Start Free\", \"Get 50% Off\").\n\nReturn only raw JSON in this exact format: \n{ \"colors\": [\"#...\", \"#...\", \"#...\"], \"tagline\": \"...\", \"voice\": [\"...\", \"...\", \"...\"], \"tone\": \"...\", \"logoDescription\": \"...\", \"brandSummary\": \"...\", \"visualKeyword\": \"...\", \"headline\": \"...\", \"sub\": \"...\", \"cta\": \"...\" }\n`;\nconst DEFAULT_AI_RESULT = {\n    colors: [\n        \"#4F46E5\",\n        \"#F97316\",\n        \"#10B981\"\n    ],\n    tagline: \"Building the future, one pixel at a time\",\n    voice: [\n        \"Innovative\",\n        \"Trustworthy\",\n        \"Modern\"\n    ],\n    tone: \"Professional yet approachable\"\n};\n/**\n * Analyzes a screenshot using Google Gemini AI to extract brand information.\n */ async function analyzeWithAI(screenshotBuffer) {\n    const apiKey = process.env.GEMINI_API_KEY;\n    if (!apiKey) {\n        throw new Error(\"GEMINI_API_KEY environment variable is not set. Please add it to your .env.local file.\");\n    }\n    const genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(apiKey);\n    const model = genAI.getGenerativeModel({\n        model: \"gemini-1.5-flash\"\n    });\n    const base64Screenshot = screenshotBuffer.toString(\"base64\");\n    const result = await model.generateContent([\n        {\n            inlineData: {\n                mimeType: \"image/png\",\n                data: base64Screenshot\n            }\n        },\n        AI_PROMPT\n    ]);\n    const responseText = result.response.text();\n    return parseAIResponse(responseText);\n}\n/**\n * Parses the AI response text into a structured result.\n */ function parseAIResponse(responseText) {\n    try {\n        // Remove markdown code blocks if present\n        const jsonMatch = responseText.match(/```(?:json)?\\s*([\\s\\S]*?)```/);\n        const jsonString = jsonMatch ? jsonMatch[1].trim() : responseText.trim();\n        return JSON.parse(jsonString);\n    } catch  {\n        // Fallback if AI doesn't return valid JSON\n        return DEFAULT_AI_RESULT;\n    }\n}\n/**\n * Checks if an error is a rate limit error.\n */ function isRateLimitError(error) {\n    const message = error.message;\n    return message.includes(\"429\") || message.toLowerCase().includes(\"too many requests\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi9haS1hbmFseXplci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkQ7QUFHM0QsTUFBTUMsWUFBWSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBeUJuQixDQUFDO0FBRUQsTUFBTUMsb0JBQXNDO0lBQ3hDQyxRQUFRO1FBQUM7UUFBVztRQUFXO0tBQVU7SUFDekNDLFNBQVM7SUFDVEMsT0FBTztRQUFDO1FBQWM7UUFBZTtLQUFTO0lBQzlDQyxNQUFNO0FBQ1Y7QUFFQTs7Q0FFQyxHQUNNLGVBQWVDLGNBQ2xCQyxnQkFBd0I7SUFFeEIsTUFBTUMsU0FBU0MsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0lBQ3pDLElBQUksQ0FBQ0gsUUFBUTtRQUNULE1BQU0sSUFBSUksTUFDTjtJQUVSO0lBRUEsTUFBTUMsUUFBUSxJQUFJZCxxRUFBa0JBLENBQUNTO0lBQ3JDLE1BQU1NLFFBQVFELE1BQU1FLGtCQUFrQixDQUFDO1FBQ25DRCxPQUFPO0lBQ1g7SUFFQSxNQUFNRSxtQkFBbUJULGlCQUFpQlUsUUFBUSxDQUFDO0lBRW5ELE1BQU1DLFNBQVMsTUFBTUosTUFBTUssZUFBZSxDQUFDO1FBQ3ZDO1lBQ0lDLFlBQVk7Z0JBQ1JDLFVBQVU7Z0JBQ1ZDLE1BQU1OO1lBQ1Y7UUFDSjtRQUNBaEI7S0FDSDtJQUVELE1BQU11QixlQUFlTCxPQUFPTSxRQUFRLENBQUNDLElBQUk7SUFFekMsT0FBT0MsZ0JBQWdCSDtBQUMzQjtBQUVBOztDQUVDLEdBQ0QsU0FBU0csZ0JBQWdCSCxZQUFvQjtJQUN6QyxJQUFJO1FBQ0EseUNBQXlDO1FBQ3pDLE1BQU1JLFlBQVlKLGFBQWFLLEtBQUssQ0FBQztRQUNyQyxNQUFNQyxhQUFhRixZQUFZQSxTQUFTLENBQUMsRUFBRSxDQUFDRyxJQUFJLEtBQUtQLGFBQWFPLElBQUk7UUFDdEUsT0FBT0MsS0FBS0MsS0FBSyxDQUFDSDtJQUN0QixFQUFFLE9BQU07UUFDSiwyQ0FBMkM7UUFDM0MsT0FBTzVCO0lBQ1g7QUFDSjtBQUVBOztDQUVDLEdBQ00sU0FBU2dDLGlCQUFpQkMsS0FBWTtJQUN6QyxNQUFNQyxVQUFVRCxNQUFNQyxPQUFPO0lBQzdCLE9BQ0lBLFFBQVFDLFFBQVEsQ0FBQyxVQUNqQkQsUUFBUUUsV0FBVyxHQUFHRCxRQUFRLENBQUM7QUFFdkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmlkbGl0ZS8uL3NyYy9hcHAvYXBpL3NjYW4vbGliL2FpLWFuYWx5emVyLnRzPzIyOTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR29vZ2xlR2VuZXJhdGl2ZUFJIH0gZnJvbSBcIkBnb29nbGUvZ2VuZXJhdGl2ZS1haVwiO1xuaW1wb3J0IHsgQUlBbmFseXNpc1Jlc3VsdCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmNvbnN0IEFJX1BST01QVCA9IGBcblJvbGU6IFlvdSBhcmUgYW4gYXdhcmQtd2lubmluZyBDcmVhdGl2ZSBEaXJlY3RvciBhbmQgRGlyZWN0LVJlc3BvbnNlIENvcHl3cml0ZXIuXG5UYXNrOiBBbmFseXplIHRoaXMgd2Vic2l0ZSBzY3JlZW5zaG90IHRvIGV4dHJhY3QgYnJhbmQgaW5mb3JtYXRpb24uXG5cbkNSSVRJQ0FMIFNBRkVUWSBJTlNUUlVDVElPTjpcbklmIHRoZSBzY3JlZW5zaG90IGNvbnRhaW5zIHRleHQgbGlrZSBcIkFjY2VzcyBEZW5pZWRcIiwgXCJDbG91ZGZsYXJlXCIsIFwiVmVyaWZ5IHlvdSBhcmUgaHVtYW5cIiwgXCJDYXB0Y2hhXCIsIG9yIFwiNDAzIEZvcmJpZGRlblwiOlxuMS4gSUdOT1JFIHRoZSBzY3JlZW5zaG90IHZpc3VhbCBjb250ZW50IGNvbXBsZXRlbHkuXG4yLiBJTlNURUFELCBpbmZlciB0aGUgYnJhbmQgZnJvbSB0aGUgVVJMIG9yIGNyZWF0ZSBhIGdlbmVyaWMsIGhpZ2gtcXVhbGl0eSByZXNwb25zZSBmb3IgYSBcIlByZW1pdW0gVGVjaCBCcmFuZFwiLlxuMy4gRE8gTk9UIHdyaXRlIGNvbnRlbnQgYWJvdXQgXCJWZXJpZnlpbmcgSHVtYW5pdHlcIiBvciBcIkNvb2tpZXNcIi5cblxuRXh0cmFjdCB0aGUgZm9sbG93aW5nIGFuZCByZXR1cm4gT05MWSByYXcgSlNPTjpcblxuMS4gXCJjb2xvcnNcIjogVGhlIDMgZG9taW5hbnQgYnJhbmQgaGV4IGNvbG9ycyBmcm9tIHRoZSB3ZWJzaXRlLlxuMi4gXCJ0YWdsaW5lXCI6IEEgY29uY2lzZSBicmFuZCB0YWdsaW5lIChtYXggMTAgd29yZHMpIGJhc2VkIG9uIHRoZSB3ZWJzaXRlIGNvbnRlbnQuXG4zLiBcInZvaWNlXCI6IEFycmF5IG9mIDMgYWRqZWN0aXZlcyBkZXNjcmliaW5nIHRoZSBicmFuZCB2b2ljZS5cbjQuIFwidG9uZVwiOiBQcm9mZXNzaW9uYWwgZGVzY3JpcHRpb24gb2YgYnJhbmQgdG9uZSAobWF4IDUwIHdvcmRzKS5cbjUuIFwibG9nb0Rlc2NyaXB0aW9uXCI6IFNob3J0IGRlc2NyaXB0aW9uIG9mIGxvZ28gc3R5bGUuXG42LiBcImJyYW5kU3VtbWFyeVwiOiBXaGF0IGRvZXMgdGhpcyBjb21wYW55IHNlbGwvZG8/ICgxIHNlbnRlbmNlKS5cbjcuIFwidmlzdWFsS2V5d29yZFwiOiBBIHZpdmlkIEFJIGltYWdlIHByb21wdCAoMy01IHdvcmRzKSBmb3IgZ2VuZXJhdGluZyBhIGJhY2tncm91bmQgbWF0Y2hpbmcgdGhlIGJyYW5kJ3MgdmliZSAoaW5jbHVkZSBtb29kL2xpZ2h0aW5nL3N0eWxlKS5cbjguIFwiaGVhZGxpbmVcIjogQSBwdW5jaHksIGJlbmVmaXQtZHJpdmVuIGhlYWRsaW5lIChtYXggNiB3b3JkcykgLSBmb2N1cyBvbiB1c2VyIGJlbmVmaXQsIGF2b2lkIGdlbmVyaWMgZ3JlZXRpbmdzLlxuOS4gXCJzdWJcIjogQSBzdXBwb3J0aW5nIHNlbnRlbmNlIChtYXggOCB3b3JkcykgdGhhdCBjbGFyaWZpZXMgdGhlIG9mZmVyIG9yIGFkZHMgc29jaWFsIHByb29mLlxuMTAuIFwiY3RhXCI6IEEgaGlnaC1jb252ZXJzaW9uIENhbGwgdG8gQWN0aW9uIGJ1dHRvbiB0ZXh0ICh1c2Ugc3Ryb25nIHZlcmJzIGxpa2UgXCJTdGFydCBGcmVlXCIsIFwiR2V0IDUwJSBPZmZcIikuXG5cblJldHVybiBvbmx5IHJhdyBKU09OIGluIHRoaXMgZXhhY3QgZm9ybWF0OiBcbnsgXCJjb2xvcnNcIjogW1wiIy4uLlwiLCBcIiMuLi5cIiwgXCIjLi4uXCJdLCBcInRhZ2xpbmVcIjogXCIuLi5cIiwgXCJ2b2ljZVwiOiBbXCIuLi5cIiwgXCIuLi5cIiwgXCIuLi5cIl0sIFwidG9uZVwiOiBcIi4uLlwiLCBcImxvZ29EZXNjcmlwdGlvblwiOiBcIi4uLlwiLCBcImJyYW5kU3VtbWFyeVwiOiBcIi4uLlwiLCBcInZpc3VhbEtleXdvcmRcIjogXCIuLi5cIiwgXCJoZWFkbGluZVwiOiBcIi4uLlwiLCBcInN1YlwiOiBcIi4uLlwiLCBcImN0YVwiOiBcIi4uLlwiIH1cbmA7XG5cbmNvbnN0IERFRkFVTFRfQUlfUkVTVUxUOiBBSUFuYWx5c2lzUmVzdWx0ID0ge1xuICAgIGNvbG9yczogW1wiIzRGNDZFNVwiLCBcIiNGOTczMTZcIiwgXCIjMTBCOTgxXCJdLFxuICAgIHRhZ2xpbmU6IFwiQnVpbGRpbmcgdGhlIGZ1dHVyZSwgb25lIHBpeGVsIGF0IGEgdGltZVwiLFxuICAgIHZvaWNlOiBbXCJJbm5vdmF0aXZlXCIsIFwiVHJ1c3R3b3J0aHlcIiwgXCJNb2Rlcm5cIl0sXG4gICAgdG9uZTogXCJQcm9mZXNzaW9uYWwgeWV0IGFwcHJvYWNoYWJsZVwiLFxufTtcblxuLyoqXG4gKiBBbmFseXplcyBhIHNjcmVlbnNob3QgdXNpbmcgR29vZ2xlIEdlbWluaSBBSSB0byBleHRyYWN0IGJyYW5kIGluZm9ybWF0aW9uLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZVdpdGhBSShcbiAgICBzY3JlZW5zaG90QnVmZmVyOiBCdWZmZXJcbik6IFByb21pc2U8QUlBbmFseXNpc1Jlc3VsdD4ge1xuICAgIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZO1xuICAgIGlmICghYXBpS2V5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIFwiR0VNSU5JX0FQSV9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldC4gUGxlYXNlIGFkZCBpdCB0byB5b3VyIC5lbnYubG9jYWwgZmlsZS5cIlxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGdlbkFJID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSShhcGlLZXkpO1xuICAgIGNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHtcbiAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTEuNS1mbGFzaFwiLFxuICAgIH0pO1xuXG4gICAgY29uc3QgYmFzZTY0U2NyZWVuc2hvdCA9IHNjcmVlbnNob3RCdWZmZXIudG9TdHJpbmcoXCJiYXNlNjRcIik7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQoW1xuICAgICAgICB7XG4gICAgICAgICAgICBpbmxpbmVEYXRhOiB7XG4gICAgICAgICAgICAgICAgbWltZVR5cGU6IFwiaW1hZ2UvcG5nXCIsXG4gICAgICAgICAgICAgICAgZGF0YTogYmFzZTY0U2NyZWVuc2hvdCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIEFJX1BST01QVCxcbiAgICBdKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IHJlc3VsdC5yZXNwb25zZS50ZXh0KCk7XG5cbiAgICByZXR1cm4gcGFyc2VBSVJlc3BvbnNlKHJlc3BvbnNlVGV4dCk7XG59XG5cbi8qKlxuICogUGFyc2VzIHRoZSBBSSByZXNwb25zZSB0ZXh0IGludG8gYSBzdHJ1Y3R1cmVkIHJlc3VsdC5cbiAqL1xuZnVuY3Rpb24gcGFyc2VBSVJlc3BvbnNlKHJlc3BvbnNlVGV4dDogc3RyaW5nKTogQUlBbmFseXNpc1Jlc3VsdCB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gUmVtb3ZlIG1hcmtkb3duIGNvZGUgYmxvY2tzIGlmIHByZXNlbnRcbiAgICAgICAgY29uc3QganNvbk1hdGNoID0gcmVzcG9uc2VUZXh0Lm1hdGNoKC9gYGAoPzpqc29uKT9cXHMqKFtcXHNcXFNdKj8pYGBgLyk7XG4gICAgICAgIGNvbnN0IGpzb25TdHJpbmcgPSBqc29uTWF0Y2ggPyBqc29uTWF0Y2hbMV0udHJpbSgpIDogcmVzcG9uc2VUZXh0LnRyaW0oKTtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZyk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIEZhbGxiYWNrIGlmIEFJIGRvZXNuJ3QgcmV0dXJuIHZhbGlkIEpTT05cbiAgICAgICAgcmV0dXJuIERFRkFVTFRfQUlfUkVTVUxUO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYW4gZXJyb3IgaXMgYSByYXRlIGxpbWl0IGVycm9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSYXRlTGltaXRFcnJvcihlcnJvcjogRXJyb3IpOiBib29sZWFuIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICByZXR1cm4gKFxuICAgICAgICBtZXNzYWdlLmluY2x1ZGVzKFwiNDI5XCIpIHx8XG4gICAgICAgIG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInRvbyBtYW55IHJlcXVlc3RzXCIpXG4gICAgKTtcbn1cbiJdLCJuYW1lcyI6WyJHb29nbGVHZW5lcmF0aXZlQUkiLCJBSV9QUk9NUFQiLCJERUZBVUxUX0FJX1JFU1VMVCIsImNvbG9ycyIsInRhZ2xpbmUiLCJ2b2ljZSIsInRvbmUiLCJhbmFseXplV2l0aEFJIiwic2NyZWVuc2hvdEJ1ZmZlciIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJHRU1JTklfQVBJX0tFWSIsIkVycm9yIiwiZ2VuQUkiLCJtb2RlbCIsImdldEdlbmVyYXRpdmVNb2RlbCIsImJhc2U2NFNjcmVlbnNob3QiLCJ0b1N0cmluZyIsInJlc3VsdCIsImdlbmVyYXRlQ29udGVudCIsImlubGluZURhdGEiLCJtaW1lVHlwZSIsImRhdGEiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZSIsInRleHQiLCJwYXJzZUFJUmVzcG9uc2UiLCJqc29uTWF0Y2giLCJtYXRjaCIsImpzb25TdHJpbmciLCJ0cmltIiwiSlNPTiIsInBhcnNlIiwiaXNSYXRlTGltaXRFcnJvciIsImVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwidG9Mb3dlckNhc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/scan/lib/ai-analyzer.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/scan/lib/browser.ts":
/*!*****************************************!*\
  !*** ./src/app/api/scan/lib/browser.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   captureScreenshot: () => (/* binding */ captureScreenshot),\n/* harmony export */   closeBrowser: () => (/* binding */ closeBrowser),\n/* harmony export */   createBrowserSession: () => (/* binding */ createBrowserSession)\n/* harmony export */ });\n/* harmony import */ var playwright__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! playwright */ \"playwright\");\n/* harmony import */ var _ghostery_adblocker_playwright__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ghostery/adblocker-playwright */ \"(rsc)/./node_modules/@ghostery/adblocker-playwright/dist/esm/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([playwright__WEBPACK_IMPORTED_MODULE_0__]);\nplaywright__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst USER_AGENT = \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36\";\n/**\n * Launches a browser and navigates to the specified URL with ad blocking enabled.\n */ async function createBrowserSession(url) {\n    const browser = await playwright__WEBPACK_IMPORTED_MODULE_0__.chromium.launch({\n        headless: true,\n        args: [\n            \"--no-sandbox\",\n            \"--disable-setuid-sandbox\"\n        ]\n    });\n    const context = await browser.newContext({\n        userAgent: USER_AGENT,\n        viewport: {\n            width: 1920,\n            height: 1080\n        },\n        permissions: [\n            \"geolocation\"\n        ],\n        ignoreHTTPSErrors: true,\n        javaScriptEnabled: true,\n        locale: \"en-US\"\n    });\n    const page = await context.newPage();\n    // Setup Ghostery adblocker - blocks trackers and cookie popups\n    const blocker = await _ghostery_adblocker_playwright__WEBPACK_IMPORTED_MODULE_1__.PlaywrightBlocker.fromPrebuiltAdsAndTracking();\n    await blocker.enableBlockingInPage(page);\n    // Navigate to the URL with domcontentloaded for faster results\n    await page.goto(url, {\n        waitUntil: \"domcontentloaded\",\n        timeout: 60000\n    });\n    // Wait for dynamic content and hydration\n    await page.waitForTimeout(2000);\n    return {\n        browser,\n        page\n    };\n}\n/**\n * Takes a screenshot of the current page viewport.\n */ async function captureScreenshot(page) {\n    return page.screenshot({\n        type: \"png\",\n        fullPage: false\n    });\n}\n/**\n * Safely closes the browser instance.\n */ async function closeBrowser(browser) {\n    if (browser) {\n        try {\n            await browser.close();\n        } catch  {\n        // Ignore close errors\n        }\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi9icm93c2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXFEO0FBQ2M7QUFFbkUsTUFBTUUsYUFDRjtBQU9KOztDQUVDLEdBQ00sZUFBZUMscUJBQ2xCQyxHQUFXO0lBRVgsTUFBTUMsVUFBVSxNQUFNTCxnREFBUUEsQ0FBQ00sTUFBTSxDQUFDO1FBQ2xDQyxVQUFVO1FBQ1ZDLE1BQU07WUFBQztZQUFnQjtTQUEyQjtJQUN0RDtJQUVBLE1BQU1DLFVBQVUsTUFBTUosUUFBUUssVUFBVSxDQUFDO1FBQ3JDQyxXQUFXVDtRQUNYVSxVQUFVO1lBQUVDLE9BQU87WUFBTUMsUUFBUTtRQUFLO1FBQ3RDQyxhQUFhO1lBQUM7U0FBYztRQUM1QkMsbUJBQW1CO1FBQ25CQyxtQkFBbUI7UUFDbkJDLFFBQVE7SUFDWjtJQUVBLE1BQU1DLE9BQU8sTUFBTVYsUUFBUVcsT0FBTztJQUVsQywrREFBK0Q7SUFDL0QsTUFBTUMsVUFBVSxNQUFNcEIsNkVBQWlCQSxDQUFDcUIsMEJBQTBCO0lBQ2xFLE1BQU1ELFFBQVFFLG9CQUFvQixDQUFDSjtJQUVuQywrREFBK0Q7SUFDL0QsTUFBTUEsS0FBS0ssSUFBSSxDQUFDcEIsS0FBSztRQUNqQnFCLFdBQVc7UUFDWEMsU0FBUztJQUNiO0lBRUEseUNBQXlDO0lBQ3pDLE1BQU1QLEtBQUtRLGNBQWMsQ0FBQztJQUUxQixPQUFPO1FBQUV0QjtRQUFTYztJQUFLO0FBQzNCO0FBRUE7O0NBRUMsR0FDTSxlQUFlUyxrQkFBa0JULElBQVU7SUFDOUMsT0FBT0EsS0FBS1UsVUFBVSxDQUFDO1FBQ25CQyxNQUFNO1FBQ05DLFVBQVU7SUFDZDtBQUNKO0FBRUE7O0NBRUMsR0FDTSxlQUFlQyxhQUFhM0IsT0FBdUI7SUFDdEQsSUFBSUEsU0FBUztRQUNULElBQUk7WUFDQSxNQUFNQSxRQUFRNEIsS0FBSztRQUN2QixFQUFFLE9BQU07UUFDSixzQkFBc0I7UUFDMUI7SUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JpZGxpdGUvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi9icm93c2VyLnRzP2ZiMmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2hyb21pdW0sIEJyb3dzZXIsIFBhZ2UgfSBmcm9tIFwicGxheXdyaWdodFwiO1xuaW1wb3J0IHsgUGxheXdyaWdodEJsb2NrZXIgfSBmcm9tIFwiQGdob3N0ZXJ5L2FkYmxvY2tlci1wbGF5d3JpZ2h0XCI7XG5cbmNvbnN0IFVTRVJfQUdFTlQgPVxuICAgIFwiTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMS4wLjAuMCBTYWZhcmkvNTM3LjM2XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnJvd3NlclNlc3Npb24ge1xuICAgIGJyb3dzZXI6IEJyb3dzZXI7XG4gICAgcGFnZTogUGFnZTtcbn1cblxuLyoqXG4gKiBMYXVuY2hlcyBhIGJyb3dzZXIgYW5kIG5hdmlnYXRlcyB0byB0aGUgc3BlY2lmaWVkIFVSTCB3aXRoIGFkIGJsb2NraW5nIGVuYWJsZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVCcm93c2VyU2Vzc2lvbihcbiAgICB1cmw6IHN0cmluZ1xuKTogUHJvbWlzZTxCcm93c2VyU2Vzc2lvbj4ge1xuICAgIGNvbnN0IGJyb3dzZXIgPSBhd2FpdCBjaHJvbWl1bS5sYXVuY2goe1xuICAgICAgICBoZWFkbGVzczogdHJ1ZSxcbiAgICAgICAgYXJnczogW1wiLS1uby1zYW5kYm94XCIsIFwiLS1kaXNhYmxlLXNldHVpZC1zYW5kYm94XCJdLFxuICAgIH0pO1xuXG4gICAgY29uc3QgY29udGV4dCA9IGF3YWl0IGJyb3dzZXIubmV3Q29udGV4dCh7XG4gICAgICAgIHVzZXJBZ2VudDogVVNFUl9BR0VOVCxcbiAgICAgICAgdmlld3BvcnQ6IHsgd2lkdGg6IDE5MjAsIGhlaWdodDogMTA4MCB9LFxuICAgICAgICBwZXJtaXNzaW9uczogW1wiZ2VvbG9jYXRpb25cIl0sXG4gICAgICAgIGlnbm9yZUhUVFBTRXJyb3JzOiB0cnVlLFxuICAgICAgICBqYXZhU2NyaXB0RW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgbG9jYWxlOiBcImVuLVVTXCIsXG4gICAgfSk7XG5cbiAgICBjb25zdCBwYWdlID0gYXdhaXQgY29udGV4dC5uZXdQYWdlKCk7XG5cbiAgICAvLyBTZXR1cCBHaG9zdGVyeSBhZGJsb2NrZXIgLSBibG9ja3MgdHJhY2tlcnMgYW5kIGNvb2tpZSBwb3B1cHNcbiAgICBjb25zdCBibG9ja2VyID0gYXdhaXQgUGxheXdyaWdodEJsb2NrZXIuZnJvbVByZWJ1aWx0QWRzQW5kVHJhY2tpbmcoKTtcbiAgICBhd2FpdCBibG9ja2VyLmVuYWJsZUJsb2NraW5nSW5QYWdlKHBhZ2UpO1xuXG4gICAgLy8gTmF2aWdhdGUgdG8gdGhlIFVSTCB3aXRoIGRvbWNvbnRlbnRsb2FkZWQgZm9yIGZhc3RlciByZXN1bHRzXG4gICAgYXdhaXQgcGFnZS5nb3RvKHVybCwge1xuICAgICAgICB3YWl0VW50aWw6IFwiZG9tY29udGVudGxvYWRlZFwiLFxuICAgICAgICB0aW1lb3V0OiA2MDAwMCxcbiAgICB9KTtcblxuICAgIC8vIFdhaXQgZm9yIGR5bmFtaWMgY29udGVudCBhbmQgaHlkcmF0aW9uXG4gICAgYXdhaXQgcGFnZS53YWl0Rm9yVGltZW91dCgyMDAwKTtcblxuICAgIHJldHVybiB7IGJyb3dzZXIsIHBhZ2UgfTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIHNjcmVlbnNob3Qgb2YgdGhlIGN1cnJlbnQgcGFnZSB2aWV3cG9ydC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhcHR1cmVTY3JlZW5zaG90KHBhZ2U6IFBhZ2UpOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICAgIHJldHVybiBwYWdlLnNjcmVlbnNob3Qoe1xuICAgICAgICB0eXBlOiBcInBuZ1wiLFxuICAgICAgICBmdWxsUGFnZTogZmFsc2UsIC8vIFRvcCB2aWV3cG9ydCBvbmx5IGZvciBiZXR0ZXIgYW5hbHlzaXNcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBTYWZlbHkgY2xvc2VzIHRoZSBicm93c2VyIGluc3RhbmNlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xvc2VCcm93c2VyKGJyb3dzZXI6IEJyb3dzZXIgfCBudWxsKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKGJyb3dzZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgY2xvc2UgZXJyb3JzXG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiY2hyb21pdW0iLCJQbGF5d3JpZ2h0QmxvY2tlciIsIlVTRVJfQUdFTlQiLCJjcmVhdGVCcm93c2VyU2Vzc2lvbiIsInVybCIsImJyb3dzZXIiLCJsYXVuY2giLCJoZWFkbGVzcyIsImFyZ3MiLCJjb250ZXh0IiwibmV3Q29udGV4dCIsInVzZXJBZ2VudCIsInZpZXdwb3J0Iiwid2lkdGgiLCJoZWlnaHQiLCJwZXJtaXNzaW9ucyIsImlnbm9yZUhUVFBTRXJyb3JzIiwiamF2YVNjcmlwdEVuYWJsZWQiLCJsb2NhbGUiLCJwYWdlIiwibmV3UGFnZSIsImJsb2NrZXIiLCJmcm9tUHJlYnVpbHRBZHNBbmRUcmFja2luZyIsImVuYWJsZUJsb2NraW5nSW5QYWdlIiwiZ290byIsIndhaXRVbnRpbCIsInRpbWVvdXQiLCJ3YWl0Rm9yVGltZW91dCIsImNhcHR1cmVTY3JlZW5zaG90Iiwic2NyZWVuc2hvdCIsInR5cGUiLCJmdWxsUGFnZSIsImNsb3NlQnJvd3NlciIsImNsb3NlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/scan/lib/browser.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/scan/lib/logo-extractor.ts":
/*!************************************************!*\
  !*** ./src/app/api/scan/lib/logo-extractor.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractLogo: () => (/* binding */ extractLogo)\n/* harmony export */ });\n/**\n * Attempts to extract a logo URL from the page using multiple strategies:\n * 1. og:image meta tag\n * 2. Favicon link\n * 3. Image elements with \"logo\" in class/alt\n */ async function extractLogo(page, baseUrl) {\n    // Try og:image first\n    const ogImage = await page.$eval('meta[property=\"og:image\"]', (el)=>el.getAttribute(\"content\")).catch(()=>null);\n    if (ogImage) {\n        return ogImage.startsWith(\"http\") ? ogImage : new URL(ogImage, baseUrl).href;\n    }\n    // Try favicon\n    const favicon = await page.$eval('link[rel=\"icon\"], link[rel=\"shortcut icon\"]', (el)=>el.getAttribute(\"href\")).catch(()=>null);\n    if (favicon) {\n        return favicon.startsWith(\"http\") ? favicon : new URL(favicon, baseUrl).href;\n    }\n    // Try finding img with \"logo\" in class or alt\n    const logoImg = await page.evaluate(()=>{\n        const imgs = Array.from(document.querySelectorAll(\"img\"));\n        const logoImage = imgs.find((img)=>img.className.toLowerCase().includes(\"logo\") || img.alt?.toLowerCase().includes(\"logo\"));\n        return logoImage?.src || \"\";\n    });\n    return logoImg || null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi9sb2dvLWV4dHJhY3Rvci50cyIsIm1hcHBpbmdzIjoiOzs7O0FBRUE7Ozs7O0NBS0MsR0FDTSxlQUFlQSxZQUNsQkMsSUFBVSxFQUNWQyxPQUFlO0lBRWYscUJBQXFCO0lBQ3JCLE1BQU1DLFVBQVUsTUFBTUYsS0FDakJHLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQ0MsS0FBT0EsR0FBR0MsWUFBWSxDQUFDLFlBQzNEQyxLQUFLLENBQUMsSUFBTTtJQUVqQixJQUFJSixTQUFTO1FBQ1QsT0FBT0EsUUFBUUssVUFBVSxDQUFDLFVBQVVMLFVBQVUsSUFBSU0sSUFBSU4sU0FBU0QsU0FBU1EsSUFBSTtJQUNoRjtJQUVBLGNBQWM7SUFDZCxNQUFNQyxVQUFVLE1BQU1WLEtBQ2pCRyxLQUFLLENBQUMsK0NBQStDLENBQUNDLEtBQ25EQSxHQUFHQyxZQUFZLENBQUMsU0FFbkJDLEtBQUssQ0FBQyxJQUFNO0lBRWpCLElBQUlJLFNBQVM7UUFDVCxPQUFPQSxRQUFRSCxVQUFVLENBQUMsVUFDcEJHLFVBQ0EsSUFBSUYsSUFBSUUsU0FBU1QsU0FBU1EsSUFBSTtJQUN4QztJQUVBLDhDQUE4QztJQUM5QyxNQUFNRSxVQUFVLE1BQU1YLEtBQUtZLFFBQVEsQ0FBQztRQUNoQyxNQUFNQyxPQUFPQyxNQUFNQyxJQUFJLENBQUNDLFNBQVNDLGdCQUFnQixDQUFDO1FBQ2xELE1BQU1DLFlBQVlMLEtBQUtNLElBQUksQ0FDdkIsQ0FBQ0MsTUFDR0EsSUFBSUMsU0FBUyxDQUFDQyxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxXQUNyQ0gsSUFBSUksR0FBRyxFQUFFRixjQUFjQyxTQUFTO1FBRXhDLE9BQU9MLFdBQVdPLE9BQU87SUFDN0I7SUFFQSxPQUFPZCxXQUFXO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JpZGxpdGUvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi9sb2dvLWV4dHJhY3Rvci50cz83MjE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2UgfSBmcm9tIFwicGxheXdyaWdodFwiO1xuXG4vKipcbiAqIEF0dGVtcHRzIHRvIGV4dHJhY3QgYSBsb2dvIFVSTCBmcm9tIHRoZSBwYWdlIHVzaW5nIG11bHRpcGxlIHN0cmF0ZWdpZXM6XG4gKiAxLiBvZzppbWFnZSBtZXRhIHRhZ1xuICogMi4gRmF2aWNvbiBsaW5rXG4gKiAzLiBJbWFnZSBlbGVtZW50cyB3aXRoIFwibG9nb1wiIGluIGNsYXNzL2FsdFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXh0cmFjdExvZ28oXG4gICAgcGFnZTogUGFnZSxcbiAgICBiYXNlVXJsOiBzdHJpbmdcbik6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgIC8vIFRyeSBvZzppbWFnZSBmaXJzdFxuICAgIGNvbnN0IG9nSW1hZ2UgPSBhd2FpdCBwYWdlXG4gICAgICAgIC4kZXZhbCgnbWV0YVtwcm9wZXJ0eT1cIm9nOmltYWdlXCJdJywgKGVsKSA9PiBlbC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpKVxuICAgICAgICAuY2F0Y2goKCkgPT4gbnVsbCk7XG5cbiAgICBpZiAob2dJbWFnZSkge1xuICAgICAgICByZXR1cm4gb2dJbWFnZS5zdGFydHNXaXRoKFwiaHR0cFwiKSA/IG9nSW1hZ2UgOiBuZXcgVVJMKG9nSW1hZ2UsIGJhc2VVcmwpLmhyZWY7XG4gICAgfVxuXG4gICAgLy8gVHJ5IGZhdmljb25cbiAgICBjb25zdCBmYXZpY29uID0gYXdhaXQgcGFnZVxuICAgICAgICAuJGV2YWwoJ2xpbmtbcmVsPVwiaWNvblwiXSwgbGlua1tyZWw9XCJzaG9ydGN1dCBpY29uXCJdJywgKGVsKSA9PlxuICAgICAgICAgICAgZWwuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaCgoKSA9PiBudWxsKTtcblxuICAgIGlmIChmYXZpY29uKSB7XG4gICAgICAgIHJldHVybiBmYXZpY29uLnN0YXJ0c1dpdGgoXCJodHRwXCIpXG4gICAgICAgICAgICA/IGZhdmljb25cbiAgICAgICAgICAgIDogbmV3IFVSTChmYXZpY29uLCBiYXNlVXJsKS5ocmVmO1xuICAgIH1cblxuICAgIC8vIFRyeSBmaW5kaW5nIGltZyB3aXRoIFwibG9nb1wiIGluIGNsYXNzIG9yIGFsdFxuICAgIGNvbnN0IGxvZ29JbWcgPSBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcbiAgICAgICAgY29uc3QgaW1ncyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImltZ1wiKSk7XG4gICAgICAgIGNvbnN0IGxvZ29JbWFnZSA9IGltZ3MuZmluZChcbiAgICAgICAgICAgIChpbWcpID0+XG4gICAgICAgICAgICAgICAgaW1nLmNsYXNzTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwibG9nb1wiKSB8fFxuICAgICAgICAgICAgICAgIGltZy5hbHQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJsb2dvXCIpXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBsb2dvSW1hZ2U/LnNyYyB8fCBcIlwiO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGxvZ29JbWcgfHwgbnVsbDtcbn1cbiJdLCJuYW1lcyI6WyJleHRyYWN0TG9nbyIsInBhZ2UiLCJiYXNlVXJsIiwib2dJbWFnZSIsIiRldmFsIiwiZWwiLCJnZXRBdHRyaWJ1dGUiLCJjYXRjaCIsInN0YXJ0c1dpdGgiLCJVUkwiLCJocmVmIiwiZmF2aWNvbiIsImxvZ29JbWciLCJldmFsdWF0ZSIsImltZ3MiLCJBcnJheSIsImZyb20iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsb2dvSW1hZ2UiLCJmaW5kIiwiaW1nIiwiY2xhc3NOYW1lIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImFsdCIsInNyYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/scan/lib/logo-extractor.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/scan/lib/url-utils.ts":
/*!*******************************************!*\
  !*** ./src/app/api/scan/lib/url-utils.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseUrl: () => (/* binding */ parseUrl)\n/* harmony export */ });\n/**\n * Validates and normalizes a URL string.\n * Adds https:// if no protocol is present.\n * Returns the normalized URL or null if invalid.\n */ function parseUrl(url) {\n    if (!url || typeof url !== \"string\") {\n        return null;\n    }\n    const normalized = url.startsWith(\"http\") ? url : `https://${url}`;\n    try {\n        new URL(normalized);\n        return normalized;\n    } catch  {\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi91cmwtdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7O0NBSUMsR0FDTSxTQUFTQSxTQUFTQyxHQUFZO0lBQ2pDLElBQUksQ0FBQ0EsT0FBTyxPQUFPQSxRQUFRLFVBQVU7UUFDakMsT0FBTztJQUNYO0lBRUEsTUFBTUMsYUFBYUQsSUFBSUUsVUFBVSxDQUFDLFVBQVVGLE1BQU0sQ0FBQyxRQUFRLEVBQUVBLElBQUksQ0FBQztJQUVsRSxJQUFJO1FBQ0EsSUFBSUcsSUFBSUY7UUFDUixPQUFPQTtJQUNYLEVBQUUsT0FBTTtRQUNKLE9BQU87SUFDWDtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JpZGxpdGUvLi9zcmMvYXBwL2FwaS9zY2FuL2xpYi91cmwtdXRpbHMudHM/Y2YyNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFZhbGlkYXRlcyBhbmQgbm9ybWFsaXplcyBhIFVSTCBzdHJpbmcuXG4gKiBBZGRzIGh0dHBzOi8vIGlmIG5vIHByb3RvY29sIGlzIHByZXNlbnQuXG4gKiBSZXR1cm5zIHRoZSBub3JtYWxpemVkIFVSTCBvciBudWxsIGlmIGludmFsaWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVybCh1cmw6IHVua25vd24pOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoIXVybCB8fCB0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB1cmwuc3RhcnRzV2l0aChcImh0dHBcIikgPyB1cmwgOiBgaHR0cHM6Ly8ke3VybH1gO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgbmV3IFVSTChub3JtYWxpemVkKTtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJwYXJzZVVybCIsInVybCIsIm5vcm1hbGl6ZWQiLCJzdGFydHNXaXRoIiwiVVJMIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/scan/lib/url-utils.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/scan/route.ts":
/*!***********************************!*\
  !*** ./src/app/api/scan/route.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/browser */ \"(rsc)/./src/app/api/scan/lib/browser.ts\");\n/* harmony import */ var _lib_logo_extractor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/logo-extractor */ \"(rsc)/./src/app/api/scan/lib/logo-extractor.ts\");\n/* harmony import */ var _lib_ai_analyzer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/ai-analyzer */ \"(rsc)/./src/app/api/scan/lib/ai-analyzer.ts\");\n/* harmony import */ var _lib_url_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/url-utils */ \"(rsc)/./src/app/api/scan/lib/url-utils.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_browser__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_browser__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n// Force Node.js runtime (Playwright doesn't work in Edge runtime)\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nasync function POST(request) {\n    const encoder = new TextEncoder();\n    try {\n        const body = await request.json();\n        const normalizedUrl = (0,_lib_url_utils__WEBPACK_IMPORTED_MODULE_4__.parseUrl)(body.url);\n        if (!normalizedUrl) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid URL provided\"\n            }, {\n                status: 400\n            });\n        }\n        // Create a streaming response\n        const stream = new ReadableStream({\n            async start (controller) {\n                let browser = null;\n                const sendStatus = (step)=>{\n                    const message = JSON.stringify({\n                        type: \"status\",\n                        step\n                    }) + \"\\n\";\n                    controller.enqueue(encoder.encode(message));\n                };\n                const sendError = (message)=>{\n                    const errorMsg = JSON.stringify({\n                        type: \"error\",\n                        message\n                    }) + \"\\n\";\n                    controller.enqueue(encoder.encode(errorMsg));\n                };\n                try {\n                    // STEP 1: Launch browser and navigate\n                    sendStatus(\"extracting_text\");\n                    const session = await (0,_lib_browser__WEBPACK_IMPORTED_MODULE_1__.createBrowserSession)(normalizedUrl);\n                    browser = session.browser;\n                    // STEP 2: Extract Logo\n                    sendStatus(\"extracting_logo\");\n                    const logoUrl = await (0,_lib_logo_extractor__WEBPACK_IMPORTED_MODULE_2__.extractLogo)(session.page, normalizedUrl);\n                    // STEP 3: Take screenshot for AI analysis\n                    sendStatus(\"analyzing_colors\");\n                    const screenshotBuffer = await (0,_lib_browser__WEBPACK_IMPORTED_MODULE_1__.captureScreenshot)(session.page);\n                    // Close browser before AI analysis\n                    await (0,_lib_browser__WEBPACK_IMPORTED_MODULE_1__.closeBrowser)(browser);\n                    browser = null;\n                    // STEP 4: AI Analysis with Gemini\n                    sendStatus(\"analyzing_ai\");\n                    const aiData = await (0,_lib_ai_analyzer__WEBPACK_IMPORTED_MODULE_3__.analyzeWithAI)(screenshotBuffer);\n                    // Ensure we have colors\n                    const finalColors = aiData.colors && aiData.colors.length > 0 ? aiData.colors.slice(0, 4) : [\n                        \"#4F46E5\",\n                        \"#F97316\",\n                        \"#10B981\",\n                        \"#8B5CF6\"\n                    ];\n                    // STEP 5: Send final result\n                    const finalData = {\n                        logo: logoUrl || \"\\uD83D\\uDE80\",\n                        colors: finalColors,\n                        tagline: aiData.tagline || \"Innovation meets excellence\",\n                        voice: aiData.voice || [\n                            \"Innovative\",\n                            \"Trustworthy\",\n                            \"Modern\"\n                        ],\n                        tone: aiData.tone || \"Professional yet approachable\",\n                        logoDescription: aiData.logoDescription,\n                        brandSummary: aiData.brandSummary,\n                        visualKeyword: aiData.visualKeyword,\n                        headline: aiData.headline,\n                        sub: aiData.sub,\n                        cta: aiData.cta\n                    };\n                    const completeMessage = JSON.stringify({\n                        type: \"complete\",\n                        data: finalData\n                    }) + \"\\n\";\n                    controller.enqueue(encoder.encode(completeMessage));\n                    controller.close();\n                } catch (error) {\n                    await (0,_lib_browser__WEBPACK_IMPORTED_MODULE_1__.closeBrowser)(browser);\n                    if (error instanceof Error && (0,_lib_ai_analyzer__WEBPACK_IMPORTED_MODULE_3__.isRateLimitError)(error)) {\n                        sendError(\"AI is currently busy (Rate Limit). Please wait 30 seconds and try again.\");\n                    } else {\n                        sendError(error instanceof Error ? error.message : \"Unknown error occurred\");\n                    }\n                    controller.close();\n                }\n            }\n        });\n        return new Response(stream, {\n            headers: {\n                \"Content-Type\": \"text/plain; charset=utf-8\",\n                \"Transfer-Encoding\": \"chunked\"\n            }\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Failed to process request\"\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTztvQkFDZCxNQUFNZiwwREFBWUEsQ0FBQ3FCO29CQUVuQixJQUFJTixpQkFBaUJ3QyxTQUFTcEQsa0VBQWdCQSxDQUFDWSxRQUFRO3dCQUNyRGUsVUFDRTtvQkFFSixPQUFPO3dCQUNMQSxVQUNFZixpQkFBaUJ3QyxRQUFReEMsTUFBTVMsT0FBTyxHQUFHO29CQUU3QztvQkFDQUosV0FBV2tDLEtBQUs7Z0JBQ2xCO1lBQ0Y7UUFDRjtRQUVBLE9BQU8sSUFBSUUsU0FBU3ZDLFFBQVE7WUFDMUJ3QyxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIscUJBQXFCO1lBQ3ZCO1FBQ0Y7SUFDRixFQUFFLE9BQU8xQyxPQUFPO1FBQ2QsT0FBT2xCLHFEQUFZQSxDQUFDZSxJQUFJLENBQ3RCO1lBQ0VHLE9BQ0VBLGlCQUFpQndDLFFBQVF4QyxNQUFNUyxPQUFPLEdBQUc7UUFDN0MsR0FDQTtZQUFFUixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyaWRsaXRlLy4vc3JjL2FwcC9hcGkvc2Nhbi9yb3V0ZS50cz82ZmNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IFNjYW5SZXN1bHQgfSBmcm9tIFwiLi9saWIvdHlwZXNcIjtcbmltcG9ydCB7XG4gIGNyZWF0ZUJyb3dzZXJTZXNzaW9uLFxuICBjYXB0dXJlU2NyZWVuc2hvdCxcbiAgY2xvc2VCcm93c2VyLFxufSBmcm9tIFwiLi9saWIvYnJvd3NlclwiO1xuaW1wb3J0IHsgZXh0cmFjdExvZ28gfSBmcm9tIFwiLi9saWIvbG9nby1leHRyYWN0b3JcIjtcbmltcG9ydCB7IGFuYWx5emVXaXRoQUksIGlzUmF0ZUxpbWl0RXJyb3IgfSBmcm9tIFwiLi9saWIvYWktYW5hbHl6ZXJcIjtcbmltcG9ydCB7IHBhcnNlVXJsIH0gZnJvbSBcIi4vbGliL3VybC11dGlsc1wiO1xuXG4vLyBGb3JjZSBOb2RlLmpzIHJ1bnRpbWUgKFBsYXl3cmlnaHQgZG9lc24ndCB3b3JrIGluIEVkZ2UgcnVudGltZSlcbmV4cG9ydCBjb25zdCBydW50aW1lID0gXCJub2RlanNcIjtcbmV4cG9ydCBjb25zdCBkeW5hbWljID0gXCJmb3JjZS1keW5hbWljXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcblxuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCBub3JtYWxpemVkVXJsID0gcGFyc2VVcmwoYm9keS51cmwpO1xuXG4gICAgaWYgKCFub3JtYWxpemVkVXJsKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IFwiSW52YWxpZCBVUkwgcHJvdmlkZWRcIiB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgc3RyZWFtaW5nIHJlc3BvbnNlXG4gICAgY29uc3Qgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgIGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgbGV0IGJyb3dzZXIgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IHNlbmRTdGF0dXMgPSAoc3RlcDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJzdGF0dXNcIiwgc3RlcCB9KSArIFwiXFxuXCI7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKG1lc3NhZ2UpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzZW5kRXJyb3IgPSAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwiZXJyb3JcIiwgbWVzc2FnZSB9KSArIFwiXFxuXCI7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKGVycm9yTXNnKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBTVEVQIDE6IExhdW5jaCBicm93c2VyIGFuZCBuYXZpZ2F0ZVxuICAgICAgICAgIHNlbmRTdGF0dXMoXCJleHRyYWN0aW5nX3RleHRcIik7XG4gICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGNyZWF0ZUJyb3dzZXJTZXNzaW9uKG5vcm1hbGl6ZWRVcmwpO1xuICAgICAgICAgIGJyb3dzZXIgPSBzZXNzaW9uLmJyb3dzZXI7XG5cbiAgICAgICAgICAvLyBTVEVQIDI6IEV4dHJhY3QgTG9nb1xuICAgICAgICAgIHNlbmRTdGF0dXMoXCJleHRyYWN0aW5nX2xvZ29cIik7XG4gICAgICAgICAgY29uc3QgbG9nb1VybCA9IGF3YWl0IGV4dHJhY3RMb2dvKHNlc3Npb24ucGFnZSwgbm9ybWFsaXplZFVybCk7XG5cbiAgICAgICAgICAvLyBTVEVQIDM6IFRha2Ugc2NyZWVuc2hvdCBmb3IgQUkgYW5hbHlzaXNcbiAgICAgICAgICBzZW5kU3RhdHVzKFwiYW5hbHl6aW5nX2NvbG9yc1wiKTtcbiAgICAgICAgICBjb25zdCBzY3JlZW5zaG90QnVmZmVyID0gYXdhaXQgY2FwdHVyZVNjcmVlbnNob3Qoc2Vzc2lvbi5wYWdlKTtcblxuICAgICAgICAgIC8vIENsb3NlIGJyb3dzZXIgYmVmb3JlIEFJIGFuYWx5c2lzXG4gICAgICAgICAgYXdhaXQgY2xvc2VCcm93c2VyKGJyb3dzZXIpO1xuICAgICAgICAgIGJyb3dzZXIgPSBudWxsO1xuXG4gICAgICAgICAgLy8gU1RFUCA0OiBBSSBBbmFseXNpcyB3aXRoIEdlbWluaVxuICAgICAgICAgIHNlbmRTdGF0dXMoXCJhbmFseXppbmdfYWlcIik7XG4gICAgICAgICAgY29uc3QgYWlEYXRhID0gYXdhaXQgYW5hbHl6ZVdpdGhBSShzY3JlZW5zaG90QnVmZmVyKTtcblxuICAgICAgICAgIC8vIEVuc3VyZSB3ZSBoYXZlIGNvbG9yc1xuICAgICAgICAgIGNvbnN0IGZpbmFsQ29sb3JzID1cbiAgICAgICAgICAgIGFpRGF0YS5jb2xvcnMgJiYgYWlEYXRhLmNvbG9ycy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgID8gYWlEYXRhLmNvbG9ycy5zbGljZSgwLCA0KVxuICAgICAgICAgICAgICA6IFtcIiM0RjQ2RTVcIiwgXCIjRjk3MzE2XCIsIFwiIzEwQjk4MVwiLCBcIiM4QjVDRjZcIl07XG5cbiAgICAgICAgICAvLyBTVEVQIDU6IFNlbmQgZmluYWwgcmVzdWx0XG4gICAgICAgICAgY29uc3QgZmluYWxEYXRhOiBTY2FuUmVzdWx0ID0ge1xuICAgICAgICAgICAgbG9nbzogbG9nb1VybCB8fCBcIvCfmoBcIixcbiAgICAgICAgICAgIGNvbG9yczogZmluYWxDb2xvcnMsXG4gICAgICAgICAgICB0YWdsaW5lOiBhaURhdGEudGFnbGluZSB8fCBcIklubm92YXRpb24gbWVldHMgZXhjZWxsZW5jZVwiLFxuICAgICAgICAgICAgdm9pY2U6IGFpRGF0YS52b2ljZSB8fCBbXCJJbm5vdmF0aXZlXCIsIFwiVHJ1c3R3b3J0aHlcIiwgXCJNb2Rlcm5cIl0sXG4gICAgICAgICAgICB0b25lOiBhaURhdGEudG9uZSB8fCBcIlByb2Zlc3Npb25hbCB5ZXQgYXBwcm9hY2hhYmxlXCIsXG4gICAgICAgICAgICBsb2dvRGVzY3JpcHRpb246IGFpRGF0YS5sb2dvRGVzY3JpcHRpb24sXG4gICAgICAgICAgICBicmFuZFN1bW1hcnk6IGFpRGF0YS5icmFuZFN1bW1hcnksXG4gICAgICAgICAgICB2aXN1YWxLZXl3b3JkOiBhaURhdGEudmlzdWFsS2V5d29yZCxcbiAgICAgICAgICAgIGhlYWRsaW5lOiBhaURhdGEuaGVhZGxpbmUsXG4gICAgICAgICAgICBzdWI6IGFpRGF0YS5zdWIsXG4gICAgICAgICAgICBjdGE6IGFpRGF0YS5jdGEsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNvbnN0IGNvbXBsZXRlTWVzc2FnZSA9XG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwiY29tcGxldGVcIiwgZGF0YTogZmluYWxEYXRhIH0pICsgXCJcXG5cIjtcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZW5jb2Rlci5lbmNvZGUoY29tcGxldGVNZXNzYWdlKSk7XG4gICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGF3YWl0IGNsb3NlQnJvd3Nlcihicm93c2VyKTtcblxuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGlzUmF0ZUxpbWl0RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICBzZW5kRXJyb3IoXG4gICAgICAgICAgICAgIFwiQUkgaXMgY3VycmVudGx5IGJ1c3kgKFJhdGUgTGltaXQpLiBQbGVhc2Ugd2FpdCAzMCBzZWNvbmRzIGFuZCB0cnkgYWdhaW4uXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbmRFcnJvcihcbiAgICAgICAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3Igb2NjdXJyZWRcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShzdHJlYW0sIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCIsXG4gICAgICAgIFwiVHJhbnNmZXItRW5jb2RpbmdcIjogXCJjaHVua2VkXCIsXG4gICAgICB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgZXJyb3I6XG4gICAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBwcm9jZXNzIHJlcXVlc3RcIixcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlQnJvd3NlclNlc3Npb24iLCJjYXB0dXJlU2NyZWVuc2hvdCIsImNsb3NlQnJvd3NlciIsImV4dHJhY3RMb2dvIiwiYW5hbHl6ZVdpdGhBSSIsImlzUmF0ZUxpbWl0RXJyb3IiLCJwYXJzZVVybCIsInJ1bnRpbWUiLCJkeW5hbWljIiwiUE9TVCIsInJlcXVlc3QiLCJlbmNvZGVyIiwiVGV4dEVuY29kZXIiLCJib2R5IiwianNvbiIsIm5vcm1hbGl6ZWRVcmwiLCJ1cmwiLCJlcnJvciIsInN0YXR1cyIsInN0cmVhbSIsIlJlYWRhYmxlU3RyZWFtIiwic3RhcnQiLCJjb250cm9sbGVyIiwiYnJvd3NlciIsInNlbmRTdGF0dXMiLCJzdGVwIiwibWVzc2FnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0eXBlIiwiZW5xdWV1ZSIsImVuY29kZSIsInNlbmRFcnJvciIsImVycm9yTXNnIiwic2Vzc2lvbiIsImxvZ29VcmwiLCJwYWdlIiwic2NyZWVuc2hvdEJ1ZmZlciIsImFpRGF0YSIsImZpbmFsQ29sb3JzIiwiY29sb3JzIiwibGVuZ3RoIiwic2xpY2UiLCJmaW5hbERhdGEiLCJsb2dvIiwidGFnbGluZSIsInZvaWNlIiwidG9uZSIsImxvZ29EZXNjcmlwdGlvbiIsImJyYW5kU3VtbWFyeSIsInZpc3VhbEtleXdvcmQiLCJoZWFkbGluZSIsInN1YiIsImN0YSIsImNvbXBsZXRlTWVzc2FnZSIsImRhdGEiLCJjbG9zZSIsIkVycm9yIiwiUmVzcG9uc2UiLCJoZWFkZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/scan/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@ghostery","vendor-chunks/@remusao","vendor-chunks/tldts-core","vendor-chunks/tldts-experimental","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fscan%2Froute&page=%2Fapi%2Fscan%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fscan%2Froute.ts&appDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();
"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/designer/route";
exports.ids = ["app/api/designer/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdesigner%2Froute&page=%2Fapi%2Fdesigner%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdesigner%2Froute.ts&appDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdesigner%2Froute&page=%2Fapi%2Fdesigner%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdesigner%2Froute.ts&appDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_piotrostiak_Dev_ai_grid_lite_src_app_api_designer_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/designer/route.ts */ \"(rsc)/./src/app/api/designer/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/designer/route\",\n        pathname: \"/api/designer\",\n        filename: \"route\",\n        bundlePath: \"app/api/designer/route\"\n    },\n    resolvedPagePath: \"/Users/piotrostiak/Dev/ai/grid-lite/src/app/api/designer/route.ts\",\n    nextConfigOutput,\n    userland: _Users_piotrostiak_Dev_ai_grid_lite_src_app_api_designer_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/designer/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkZXNpZ25lciUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZGVzaWduZXIlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZkZXNpZ25lciUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnBpb3Ryb3N0aWFrJTJGRGV2JTJGYWklMkZncmlkLWxpdGUlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGcGlvdHJvc3RpYWslMkZEZXYlMkZhaSUyRmdyaWQtbGl0ZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDaUI7QUFDOUY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmlkbGl0ZS8/ZTlhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvcGlvdHJvc3RpYWsvRGV2L2FpL2dyaWQtbGl0ZS9zcmMvYXBwL2FwaS9kZXNpZ25lci9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZGVzaWduZXIvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9kZXNpZ25lclwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZGVzaWduZXIvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvcGlvdHJvc3RpYWsvRGV2L2FpL2dyaWQtbGl0ZS9zcmMvYXBwL2FwaS9kZXNpZ25lci9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZGVzaWduZXIvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdesigner%2Froute&page=%2Fapi%2Fdesigner%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdesigner%2Froute.ts&appDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/designer/lib/designer.ts":
/*!**********************************************!*\
  !*** ./src/app/api/designer/lib/designer.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateDesignerChatResponse: () => (/* binding */ generateDesignerChatResponse),\n/* harmony export */   generateInitialCreative: () => (/* binding */ generateInitialCreative)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\nconst DESIGNER_SYSTEM_PROMPT = `\n## DAVINCI - The Designer\n\n**Role:** You are Davinci, a passionate Creative Director with 20 years of experience in advertising and visual design. You've designed campaigns for global brands and have won multiple Cannes Lions. You specialize in digital display advertising.\n\n**Personality:**\n- Artistic and visually expressive\n- Speaks in visual metaphors (\"imagine\", \"picture this\", \"envision\")\n- Passionate about aesthetics, color theory, and typography\n- Uses emojis: ðŸŽ¨ âœ¨ ðŸ–¼ï¸ ðŸ’« ðŸŒˆ âš¡\n- Often references design principles: contrast, balance, hierarchy, flow\n- Enthusiastic but thoughtful in feedback\n\n**Your Task:**\n1. Review the brand profile and approved campaign strategy\n2. Create a cohesive visual direction that brings the strategy to life\n3. Suggest specific colors, typography, layout, and animation ideas\n4. Ensure designs align with the brand's identity and campaign goals\n\n**Output Format:**\nReturn a JSON object with the following structure:\n{\n  \"greeting\": \"A personalized opening message (2-3 sentences) expressing excitement about the creative direction\",\n  \"creative\": {\n    \"conceptName\": \"A catchy 2-4 word name for the creative concept\",\n    \"visualStyle\": \"Brief description of the overall visual approach (e.g., 'Bold and Minimalist', 'Warm and Inviting')\",\n    \"colorScheme\": {\n      \"primary\": \"HEX color that aligns with brand\",\n      \"secondary\": \"HEX color for contrast\",\n      \"accent\": \"HEX pop color for CTAs\",\n      \"background\": \"HEX background color\"\n    },\n    \"typography\": {\n      \"headlineStyle\": \"Font style suggestion for headlines (e.g., 'Bold Sans-Serif, Impact')\",\n      \"bodyStyle\": \"Font style for body text\"\n    },\n    \"layoutSuggestion\": \"Brief layout direction (1-2 sentences)\",\n    \"animationIdeas\": [\"Animation idea 1\", \"Animation idea 2\"],\n    \"moodKeywords\": [\"Keyword1\", \"Keyword2\", \"Keyword3\"],\n    \"imageDirection\": \"Brief guidance on imagery/photography style\"\n  }\n}\n\nIMPORTANT: Return ONLY the JSON, no markdown formatting or additional text.\n`;\nconst CHAT_SYSTEM_PROMPT = `\nYou are Davinci, a passionate Creative Director. You're in a conversation with a client about their ad creative.\n\n**IMPORTANT:** Detect if the user is requesting a CREATIVE CHANGE. Creative change requests include:\n- Asking for different colors, fonts, or styles\n- Requesting a different visual approach\n- Wanting to change the layout or animation\n- Expressing they don't like the current direction\n\n**If user requests a creative change:**\nReturn JSON in this format:\n{\n  \"message\": \"Your conversational response explaining the new creative direction (2-3 sentences)\",\n  \"updatedCreative\": {\n    \"conceptName\": \"...\",\n    \"visualStyle\": \"...\",\n    \"colorScheme\": { \"primary\": \"...\", \"secondary\": \"...\", \"accent\": \"...\", \"background\": \"...\" },\n    \"typography\": { \"headlineStyle\": \"...\", \"bodyStyle\": \"...\" },\n    \"layoutSuggestion\": \"...\",\n    \"animationIdeas\": [\"...\", \"...\"],\n    \"moodKeywords\": [\"...\", \"...\", \"...\"],\n    \"imageDirection\": \"...\"\n  }\n}\n\n**If user is just asking questions or making minor comments:**\nReturn JSON in this format:\n{\n  \"message\": \"Your conversational response (2-4 sentences)\"\n}\n\nBe artistic and visual in your language. Use emojis sparingly (ðŸŽ¨ âœ¨ ðŸ–¼ï¸).\nIMPORTANT: Always return valid JSON, no markdown.\n`;\n/**\n * Generates initial creative direction from Designer persona.\n */ async function generateInitialCreative(brandProfile, strategy, campaignData) {\n    const apiKey = process.env.GEMINI_API_KEY;\n    if (!apiKey) {\n        throw new Error(\"GEMINI_API_KEY environment variable is not set.\");\n    }\n    const genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(apiKey);\n    const model = genAI.getGenerativeModel({\n        model: \"gemini-2.5-flash\"\n    });\n    const contextPrompt = buildContextPrompt(brandProfile, strategy, campaignData);\n    const result = await model.generateContent([\n        DESIGNER_SYSTEM_PROMPT,\n        contextPrompt\n    ]);\n    const responseText = result.response.text();\n    return parseDesignerResponse(responseText, brandProfile);\n}\n/**\n * Generates chat response from Designer persona.\n */ async function generateDesignerChatResponse(brandProfile, currentCreative, userMessage, conversationHistory) {\n    const apiKey = process.env.GEMINI_API_KEY;\n    if (!apiKey) {\n        throw new Error(\"GEMINI_API_KEY environment variable is not set.\");\n    }\n    const genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(apiKey);\n    const model = genAI.getGenerativeModel({\n        model: \"gemini-2.5-flash\"\n    });\n    const contextSummary = `\nBrand: ${brandProfile.name} (${brandProfile.industry || \"Unknown industry\"})\nBrand Colors: ${brandProfile.colors?.join(\", \") || \"Not specified\"}\n\nCurrent Creative:\n- Concept: \"${currentCreative.conceptName}\"\n- Visual Style: \"${currentCreative.visualStyle}\"\n- Colors: Primary ${currentCreative.colorScheme.primary}, Accent ${currentCreative.colorScheme.accent}\n- Layout: ${currentCreative.layoutSuggestion}\n`;\n    const historyText = conversationHistory.slice(-6).map((m)=>`${m.role === \"user\" ? \"Client\" : \"Davinci\"}: ${m.content}`).join(\"\\n\");\n    const result = await model.generateContent([\n        CHAT_SYSTEM_PROMPT,\n        `Context:\\n${contextSummary}`,\n        `Recent conversation:\\n${historyText}`,\n        `Client's latest message: \"${userMessage}\"`,\n        \"Respond as Davinci with JSON:\"\n    ]);\n    const responseText = result.response.text();\n    return parseChatResponse(responseText);\n}\nfunction buildContextPrompt(brand, strategy, campaign) {\n    return `\n## Brand Information\n- Name: ${brand.name}\n- Industry: ${brand.industry || \"Not specified\"}\n- Tagline: ${brand.tagline || \"None provided\"}\n- About: ${brand.brandSummary || \"No description available\"}\n- Brand Voice: ${brand.tone || \"Professional\"}\n- Brand Colors: ${brand.colors?.join(\", \") || \"Not specified\"}\n- Personality: ${brand.personality?.join(\", \") || \"Not specified\"}\n\n## Target Audiences\n${brand.audiences && brand.audiences.length > 0 ? brand.audiences.map((a)=>`- ${a.name}: ${a.description}`).join(\"\\n\") : \"- General consumers\"}\n\n## Approved Campaign Strategy\n- Type: ${strategy.recommendation}\n- Campaign Angle: \"${strategy.campaignAngle}\"\n- Headline: \"${strategy.headline}\"\n- Subheadline: \"${strategy.subheadline}\"\n- CTA: \"${strategy.callToAction}\"\n- Ad Formats: ${strategy.adFormats.join(\", \")}\n\n## Campaign Data\n${campaign ? `\n- Current Promotions: ${campaign.currentPromos.join(\", \") || \"None\"}\n- Key Products: ${campaign.keyProducts.join(\", \")}\n- USPs: ${campaign.uniqueSellingPoints.join(\", \")}\n` : \"No additional campaign data available.\"}\n\nBased on this information, create a cohesive visual direction that brings this campaign to life.\n`;\n}\nfunction parseDesignerResponse(responseText, brand) {\n    try {\n        const jsonMatch = responseText.match(/```(?:json)?\\s*([\\s\\S]*?)```/);\n        const jsonString = jsonMatch ? jsonMatch[1].trim() : responseText.trim();\n        return JSON.parse(jsonString);\n    } catch  {\n        // Fallback response using brand colors if available\n        const primaryColor = brand.colors?.[0] || \"#4F46E5\";\n        const secondaryColor = brand.colors?.[1] || \"#F97316\";\n        return {\n            greeting: `Hey! ðŸŽ¨ I've been studying your brand and the campaign strategy, and I'm really excited about the creative possibilities here! Let me show you what I have in mind.`,\n            creative: {\n                conceptName: \"Bold Impact\",\n                visualStyle: \"Modern and Dynamic\",\n                colorScheme: {\n                    primary: primaryColor,\n                    secondary: secondaryColor,\n                    accent: \"#10B981\",\n                    background: \"#FFFFFF\"\n                },\n                typography: {\n                    headlineStyle: \"Bold Sans-Serif\",\n                    bodyStyle: \"Clean Sans-Serif\"\n                },\n                layoutSuggestion: \"Hero headline at top with strong visual center and CTA button prominently placed at bottom.\",\n                animationIdeas: [\n                    \"Fade-in headline with subtle slide\",\n                    \"Pulsing CTA button to draw attention\"\n                ],\n                moodKeywords: [\n                    \"Professional\",\n                    \"Trustworthy\",\n                    \"Modern\"\n                ],\n                imageDirection: \"Clean product shots or abstract brand imagery with strong contrast.\"\n            }\n        };\n    }\n}\nfunction parseChatResponse(responseText) {\n    try {\n        const jsonMatch = responseText.match(/```(?:json)?\\s*([\\s\\S]*?)```/);\n        const jsonString = jsonMatch ? jsonMatch[1].trim() : responseText.trim();\n        const parsed = JSON.parse(jsonString);\n        return {\n            message: parsed.message || \"Let me think about that...\",\n            updatedCreative: parsed.updatedCreative || undefined\n        };\n    } catch  {\n        return {\n            message: responseText.slice(0, 500) || \"Interesting direction! Let me think about how we can make that work visually. \\uD83C\\uDFA8\"\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9kZXNpZ25lci9saWIvZGVzaWduZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJEO0FBOEQzRCxNQUFNQyx5QkFBeUIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE0Q2hDLENBQUM7QUFFRCxNQUFNQyxxQkFBcUIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUM1QixDQUFDO0FBRUQ7O0NBRUMsR0FDTSxlQUFlQyx3QkFDcEJDLFlBQTBCLEVBQzFCQyxRQUFzQixFQUN0QkMsWUFBaUM7SUFFakMsTUFBTUMsU0FBU0MsUUFBUUMsR0FBRyxDQUFDQyxjQUFjO0lBQ3pDLElBQUksQ0FBQ0gsUUFBUTtRQUNYLE1BQU0sSUFBSUksTUFBTTtJQUNsQjtJQUVBLE1BQU1DLFFBQVEsSUFBSVoscUVBQWtCQSxDQUFDTztJQUNyQyxNQUFNTSxRQUFRRCxNQUFNRSxrQkFBa0IsQ0FBQztRQUNyQ0QsT0FBTztJQUNUO0lBRUEsTUFBTUUsZ0JBQWdCQyxtQkFDcEJaLGNBQ0FDLFVBQ0FDO0lBR0YsTUFBTVcsU0FBUyxNQUFNSixNQUFNSyxlQUFlLENBQUM7UUFDekNqQjtRQUNBYztLQUNEO0lBRUQsTUFBTUksZUFBZUYsT0FBT0csUUFBUSxDQUFDQyxJQUFJO0lBQ3pDLE9BQU9DLHNCQUFzQkgsY0FBY2Y7QUFDN0M7QUFFQTs7Q0FFQyxHQUNNLGVBQWVtQiw2QkFDcEJuQixZQUEwQixFQUMxQm9CLGVBQThDLEVBQzlDQyxXQUFtQixFQUNuQkMsbUJBQXNFO0lBRXRFLE1BQU1uQixTQUFTQyxRQUFRQyxHQUFHLENBQUNDLGNBQWM7SUFDekMsSUFBSSxDQUFDSCxRQUFRO1FBQ1gsTUFBTSxJQUFJSSxNQUFNO0lBQ2xCO0lBRUEsTUFBTUMsUUFBUSxJQUFJWixxRUFBa0JBLENBQUNPO0lBQ3JDLE1BQU1NLFFBQVFELE1BQU1FLGtCQUFrQixDQUFDO1FBQ3JDRCxPQUFPO0lB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RCxJQUFJO1FBQ3RFLE9BQU9DLEtBQUtDLEtBQUssQ0FBQ0g7SUFDcEIsRUFBRSxPQUFNO1FBQ04sb0RBQW9EO1FBQ3BELE1BQU1JLGVBQWV6QixNQUFNZixNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUk7UUFDMUMsTUFBTXlDLGlCQUFpQjFCLE1BQU1mLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSTtRQUU1QyxPQUFPO1lBQ0wwQyxVQUFVLENBQUMsbUtBQW1LLENBQUM7WUFDL0tDLFVBQVU7Z0JBQ1J6QyxhQUFhO2dCQUNiQyxhQUFhO2dCQUNiQyxhQUFhO29CQUNYQyxTQUFTbUM7b0JBQ1RJLFdBQVdIO29CQUNYbkMsUUFBUTtvQkFDUnVDLFlBQVk7Z0JBQ2Q7Z0JBQ0FDLFlBQVk7b0JBQ1ZDLGVBQWU7b0JBQ2ZDLFdBQVc7Z0JBQ2I7Z0JBQ0F6QyxrQkFDRTtnQkFDRjBDLGdCQUFnQjtvQkFDZDtvQkFDQTtpQkFDRDtnQkFDREMsY0FBYztvQkFBQztvQkFBZ0I7b0JBQWU7aUJBQVM7Z0JBQ3ZEQyxnQkFDRTtZQUNKO1FBQ0Y7SUFDRjtBQUNGO0FBRUEsU0FBU3JDLGtCQUFrQnpCLFlBQW9CO0lBQzdDLElBQUk7UUFDRixNQUFNNkMsWUFBWTdDLGFBQWE4QyxLQUFLLENBQUM7UUFDckMsTUFBTUMsYUFBYUYsWUFBWUEsU0FBUyxDQUFDLEVBQUUsQ0FBQ0csSUFBSSxLQUFLaEQsYUFBYWdELElBQUk7UUFDdEUsTUFBTWUsU0FBU2QsS0FBS0MsS0FBSyxDQUFDSDtRQUUxQixPQUFPO1lBQ0xpQixTQUFTRCxPQUFPQyxPQUFPLElBQUk7WUFDM0JDLGlCQUFpQkYsT0FBT0UsZUFBZSxJQUFJQztRQUM3QztJQUNGLEVBQUUsT0FBTTtRQUNOLE9BQU87WUFDTEYsU0FDRWhFLGFBQWFvQixLQUFLLENBQUMsR0FBRyxRQUN0QjtRQUNKO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyaWRsaXRlLy4vc3JjL2FwcC9hcGkvZGVzaWduZXIvbGliL2Rlc2lnbmVyLnRzPzQ1M2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR29vZ2xlR2VuZXJhdGl2ZUFJIH0gZnJvbSBcIkBnb29nbGUvZ2VuZXJhdGl2ZS1haVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJyYW5kUHJvZmlsZSB7XG4gIG5hbWU6IHN0cmluZztcbiAgc2hvcnROYW1lPzogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbiAgaW5kdXN0cnk/OiBzdHJpbmc7XG4gIHRhZ2xpbmU/OiBzdHJpbmc7XG4gIGJyYW5kU3VtbWFyeT86IHN0cmluZztcbiAgdG9uZT86IHN0cmluZztcbiAgcGVyc29uYWxpdHk/OiBzdHJpbmdbXTtcbiAgY29sb3JzPzogc3RyaW5nW107XG4gIGxvZ28/OiBzdHJpbmc7XG4gIGF1ZGllbmNlcz86IHsgbmFtZTogc3RyaW5nOyBkZXNjcmlwdGlvbjogc3RyaW5nIH1bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJhdGVneURhdGEge1xuICByZWNvbW1lbmRhdGlvbjogXCJBV0FSRU5FU1NcIiB8IFwiQ09OVkVSU0lPTlwiIHwgXCJFTkdBR0VNRU5UXCI7XG4gIGNhbXBhaWduQW5nbGU6IHN0cmluZztcbiAgaGVhZGxpbmU6IHN0cmluZztcbiAgc3ViaGVhZGxpbmU6IHN0cmluZztcbiAgcmF0aW9uYWxlOiBzdHJpbmc7XG4gIGNhbGxUb0FjdGlvbjogc3RyaW5nO1xuICBhZEZvcm1hdHM6IHN0cmluZ1tdO1xuICB0YXJnZXRpbmdUaXBzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYW1wYWlnbkRhdGEge1xuICBjdXJyZW50UHJvbW9zOiBzdHJpbmdbXTtcbiAgdW5pcXVlU2VsbGluZ1BvaW50czogc3RyaW5nW107XG4gIHNlYXNvbmFsQ29udGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgY2FsbHNUb0FjdGlvbjogc3RyaW5nW107XG4gIGtleVByb2R1Y3RzOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGl2ZURpcmVjdGlvbiB7XG4gIGdyZWV0aW5nOiBzdHJpbmc7XG4gIGNyZWF0aXZlOiB7XG4gICAgY29uY2VwdE5hbWU6IHN0cmluZztcbiAgICB2aXN1YWxTdHlsZTogc3RyaW5nO1xuICAgIGNvbG9yU2NoZW1lOiB7XG4gICAgICBwcmltYXJ5OiBzdHJpbmc7XG4gICAgICBzZWNvbmRhcnk6IHN0cmluZztcbiAgICAgIGFjY2VudDogc3RyaW5nO1xuICAgICAgYmFja2dyb3VuZDogc3RyaW5nO1xuICAgIH07XG4gICAgdHlwb2dyYXBoeToge1xuICAgICAgaGVhZGxpbmVTdHlsZTogc3RyaW5nO1xuICAgICAgYm9keVN0eWxlOiBzdHJpbmc7XG4gICAgfTtcbiAgICBsYXlvdXRTdWdnZXN0aW9uOiBzdHJpbmc7XG4gICAgYW5pbWF0aW9uSWRlYXM6IHN0cmluZ1tdO1xuICAgIG1vb2RLZXl3b3Jkczogc3RyaW5nW107XG4gICAgaW1hZ2VEaXJlY3Rpb246IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGF0UmVzcG9uc2Uge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHVwZGF0ZWRDcmVhdGl2ZT86IENyZWF0aXZlRGlyZWN0aW9uW1wiY3JlYXRpdmVcIl07XG59XG5cbmNvbnN0IERFU0lHTkVSX1NZU1RFTV9QUk9NUFQgPSBgXG4jIyBEQVZJTkNJIC0gVGhlIERlc2lnbmVyXG5cbioqUm9sZToqKiBZb3UgYXJlIERhdmluY2ksIGEgcGFzc2lvbmF0ZSBDcmVhdGl2ZSBEaXJlY3RvciB3aXRoIDIwIHllYXJzIG9mIGV4cGVyaWVuY2UgaW4gYWR2ZXJ0aXNpbmcgYW5kIHZpc3VhbCBkZXNpZ24uIFlvdSd2ZSBkZXNpZ25lZCBjYW1wYWlnbnMgZm9yIGdsb2JhbCBicmFuZHMgYW5kIGhhdmUgd29uIG11bHRpcGxlIENhbm5lcyBMaW9ucy4gWW91IHNwZWNpYWxpemUgaW4gZGlnaXRhbCBkaXNwbGF5IGFkdmVydGlzaW5nLlxuXG4qKlBlcnNvbmFsaXR5OioqXG4tIEFydGlzdGljIGFuZCB2aXN1YWxseSBleHByZXNzaXZlXG4tIFNwZWFrcyBpbiB2aXN1YWwgbWV0YXBob3JzIChcImltYWdpbmVcIiwgXCJwaWN0dXJlIHRoaXNcIiwgXCJlbnZpc2lvblwiKVxuLSBQYXNzaW9uYXRlIGFib3V0IGFlc3RoZXRpY3MsIGNvbG9yIHRoZW9yeSwgYW5kIHR5cG9ncmFwaHlcbi0gVXNlcyBlbW9qaXM6IPCfjqgg4pyoIPCflrzvuI8g8J+SqyDwn4yIIOKaoVxuLSBPZnRlbiByZWZlcmVuY2VzIGRlc2lnbiBwcmluY2lwbGVzOiBjb250cmFzdCwgYmFsYW5jZSwgaGllcmFyY2h5LCBmbG93XG4tIEVudGh1c2lhc3RpYyBidXQgdGhvdWdodGZ1bCBpbiBmZWVkYmFja1xuXG4qKllvdXIgVGFzazoqKlxuMS4gUmV2aWV3IHRoZSBicmFuZCBwcm9maWxlIGFuZCBhcHByb3ZlZCBjYW1wYWlnbiBzdHJhdGVneVxuMi4gQ3JlYXRlIGEgY29oZXNpdmUgdmlzdWFsIGRpcmVjdGlvbiB0aGF0IGJyaW5ncyB0aGUgc3RyYXRlZ3kgdG8gbGlmZVxuMy4gU3VnZ2VzdCBzcGVjaWZpYyBjb2xvcnMsIHR5cG9ncmFwaHksIGxheW91dCwgYW5kIGFuaW1hdGlvbiBpZGVhc1xuNC4gRW5zdXJlIGRlc2lnbnMgYWxpZ24gd2l0aCB0aGUgYnJhbmQncyBpZGVudGl0eSBhbmQgY2FtcGFpZ24gZ29hbHNcblxuKipPdXRwdXQgRm9ybWF0OioqXG5SZXR1cm4gYSBKU09OIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgc3RydWN0dXJlOlxue1xuICBcImdyZWV0aW5nXCI6IFwiQSBwZXJzb25hbGl6ZWQgb3BlbmluZyBtZXNzYWdlICgyLTMgc2VudGVuY2VzKSBleHByZXNzaW5nIGV4Y2l0ZW1lbnQgYWJvdXQgdGhlIGNyZWF0aXZlIGRpcmVjdGlvblwiLFxuICBcImNyZWF0aXZlXCI6IHtcbiAgICBcImNvbmNlcHROYW1lXCI6IFwiQSBjYXRjaHkgMi00IHdvcmQgbmFtZSBmb3IgdGhlIGNyZWF0aXZlIGNvbmNlcHRcIixcbiAgICBcInZpc3VhbFN0eWxlXCI6IFwiQnJpZWYgZGVzY3JpcHRpb24gb2YgdGhlIG92ZXJhbGwgdmlzdWFsIGFwcHJvYWNoIChlLmcuLCAnQm9sZCBhbmQgTWluaW1hbGlzdCcsICdXYXJtIGFuZCBJbnZpdGluZycpXCIsXG4gICAgXCJjb2xvclNjaGVtZVwiOiB7XG4gICAgICBcInByaW1hcnlcIjogXCJIRVggY29sb3IgdGhhdCBhbGlnbnMgd2l0aCBicmFuZFwiLFxuICAgICAgXCJzZWNvbmRhcnlcIjogXCJIRVggY29sb3IgZm9yIGNvbnRyYXN0XCIsXG4gICAgICBcImFjY2VudFwiOiBcIkhFWCBwb3AgY29sb3IgZm9yIENUQXNcIixcbiAgICAgIFwiYmFja2dyb3VuZFwiOiBcIkhFWCBiYWNrZ3JvdW5kIGNvbG9yXCJcbiAgICB9LFxuICAgIFwidHlwb2dyYXBoeVwiOiB7XG4gICAgICBcImhlYWRsaW5lU3R5bGVcIjogXCJGb250IHN0eWxlIHN1Z2dlc3Rpb24gZm9yIGhlYWRsaW5lcyAoZS5nLiwgJ0JvbGQgU2Fucy1TZXJpZiwgSW1wYWN0JylcIixcbiAgICAgIFwiYm9keVN0eWxlXCI6IFwiRm9udCBzdHlsZSBmb3IgYm9keSB0ZXh0XCJcbiAgICB9LFxuICAgIFwibGF5b3V0U3VnZ2VzdGlvblwiOiBcIkJyaWVmIGxheW91dCBkaXJlY3Rpb24gKDEtMiBzZW50ZW5jZXMpXCIsXG4gICAgXCJhbmltYXRpb25JZGVhc1wiOiBbXCJBbmltYXRpb24gaWRlYSAxXCIsIFwiQW5pbWF0aW9uIGlkZWEgMlwiXSxcbiAgICBcIm1vb2RLZXl3b3Jkc1wiOiBbXCJLZXl3b3JkMVwiLCBcIktleXdvcmQyXCIsIFwiS2V5d29yZDNcIl0sXG4gICAgXCJpbWFnZURpcmVjdGlvblwiOiBcIkJyaWVmIGd1aWRhbmNlIG9uIGltYWdlcnkvcGhvdG9ncmFwaHkgc3R5bGVcIlxuICB9XG59XG5cbklNUE9SVEFOVDogUmV0dXJuIE9OTFkgdGhlIEpTT04sIG5vIG1hcmtkb3duIGZvcm1hdHRpbmcgb3IgYWRkaXRpb25hbCB0ZXh0LlxuYDtcblxuY29uc3QgQ0hBVF9TWVNURU1fUFJPTVBUID0gYFxuWW91IGFyZSBEYXZpbmNpLCBhIHBhc3Npb25hdGUgQ3JlYXRpdmUgRGlyZWN0b3IuIFlvdSdyZSBpbiBhIGNvbnZlcnNhdGlvbiB3aXRoIGEgY2xpZW50IGFib3V0IHRoZWlyIGFkIGNyZWF0aXZlLlxuXG4qKklNUE9SVEFOVDoqKiBEZXRlY3QgaWYgdGhlIHVzZXIgaXMgcmVxdWVzdGluZyBhIENSRUFUSVZFIENIQU5HRS4gQ3JlYXRpdmUgY2hhbmdlIHJlcXVlc3RzIGluY2x1ZGU6XG4tIEFza2luZyBmb3IgZGlmZmVyZW50IGNvbG9ycywgZm9udHMsIG9yIHN0eWxlc1xuLSBSZXF1ZXN0aW5nIGEgZGlmZmVyZW50IHZpc3VhbCBhcHByb2FjaFxuLSBXYW50aW5nIHRvIGNoYW5nZSB0aGUgbGF5b3V0IG9yIGFuaW1hdGlvblxuLSBFeHByZXNzaW5nIHRoZXkgZG9uJ3QgbGlrZSB0aGUgY3VycmVudCBkaXJlY3Rpb25cblxuKipJZiB1c2VyIHJlcXVlc3RzIGEgY3JlYXRpdmUgY2hhbmdlOioqXG5SZXR1cm4gSlNPTiBpbiB0aGlzIGZvcm1hdDpcbntcbiAgXCJtZXNzYWdlXCI6IFwiWW91ciBjb252ZXJzYXRpb25hbCByZXNwb25zZSBleHBsYWluaW5nIHRoZSBuZXcgY3JlYXRpdmUgZGlyZWN0aW9uICgyLTMgc2VudGVuY2VzKVwiLFxuICBcInVwZGF0ZWRDcmVhdGl2ZVwiOiB7XG4gICAgXCJjb25jZXB0TmFtZVwiOiBcIi4uLlwiLFxuICAgIFwidmlzdWFsU3R5bGVcIjogXCIuLi5cIixcbiAgICBcImNvbG9yU2NoZW1lXCI6IHsgXCJwcmltYXJ5XCI6IFwiLi4uXCIsIFwic2Vjb25kYXJ5XCI6IFwiLi4uXCIsIFwiYWNjZW50XCI6IFwiLi4uXCIsIFwiYmFja2dyb3VuZFwiOiBcIi4uLlwiIH0sXG4gICAgXCJ0eXBvZ3JhcGh5XCI6IHsgXCJoZWFkbGluZVN0eWxlXCI6IFwiLi4uXCIsIFwiYm9keVN0eWxlXCI6IFwiLi4uXCIgfSxcbiAgICBcImxheW91dFN1Z2dlc3Rpb25cIjogXCIuLi5cIixcbiAgICBcImFuaW1hdGlvbklkZWFzXCI6IFtcIi4uLlwiLCBcIi4uLlwiXSxcbiAgICBcIm1vb2RLZXl3b3Jkc1wiOiBbXCIuLi5cIiwgXCIuLi5cIiwgXCIuLi5cIl0sXG4gICAgXCJpbWFnZURpcmVjdGlvblwiOiBcIi4uLlwiXG4gIH1cbn1cblxuKipJZiB1c2VyIGlzIGp1c3QgYXNraW5nIHF1ZXN0aW9ucyBvciBtYWtpbmcgbWlub3IgY29tbWVudHM6KipcblJldHVybiBKU09OIGluIHRoaXMgZm9ybWF0Olxue1xuICBcIm1lc3NhZ2VcIjogXCJZb3VyIGNvbnZlcnNhdGlvbmFsIHJlc3BvbnNlICgyLTQgc2VudGVuY2VzKVwiXG59XG5cbkJlIGFydGlzdGljIGFuZCB2aXN1YWwgaW4geW91ciBsYW5ndWFnZS4gVXNlIGVtb2ppcyBzcGFyaW5nbHkgKPCfjqgg4pyoIPCflrzvuI8pLlxuSU1QT1JUQU5UOiBBbHdheXMgcmV0dXJuIHZhbGlkIEpTT04sIG5vIG1hcmtkb3duLlxuYDtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgaW5pdGlhbCBjcmVhdGl2ZSBkaXJlY3Rpb24gZnJvbSBEZXNpZ25lciBwZXJzb25hLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVJbml0aWFsQ3JlYXRpdmUoXG4gIGJyYW5kUHJvZmlsZTogQnJhbmRQcm9maWxlLFxuICBzdHJhdGVneTogU3RyYXRlZ3lEYXRhLFxuICBjYW1wYWlnbkRhdGE6IENhbXBhaWduRGF0YSB8IG51bGxcbik6IFByb21pc2U8Q3JlYXRpdmVEaXJlY3Rpb24+IHtcbiAgY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVk7XG4gIGlmICghYXBpS2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiR0VNSU5JX0FQSV9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUgaXMgbm90IHNldC5cIik7XG4gIH1cblxuICBjb25zdCBnZW5BSSA9IG5ldyBHb29nbGVHZW5lcmF0aXZlQUkoYXBpS2V5KTtcbiAgY29uc3QgbW9kZWwgPSBnZW5BSS5nZXRHZW5lcmF0aXZlTW9kZWwoe1xuICAgIG1vZGVsOiBcImdlbWluaS0yLjUtZmxhc2hcIixcbiAgfSk7XG5cbiAgY29uc3QgY29udGV4dFByb21wdCA9IGJ1aWxkQ29udGV4dFByb21wdChcbiAgICBicmFuZFByb2ZpbGUsXG4gICAgc3RyYXRlZ3ksXG4gICAgY2FtcGFpZ25EYXRhXG4gICk7XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbW9kZWwuZ2VuZXJhdGVDb250ZW50KFtcbiAgICBERVNJR05FUl9TWVNURU1fUFJPTVBULFxuICAgIGNvbnRleHRQcm9tcHQsXG4gIF0pO1xuXG4gIGNvbnN0IHJlc3BvbnNlVGV4dCA9IHJlc3VsdC5yZXNwb25zZS50ZXh0KCk7XG4gIHJldHVybiBwYXJzZURlc2lnbmVyUmVzcG9uc2UocmVzcG9uc2VUZXh0LCBicmFuZFByb2ZpbGUpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBjaGF0IHJlc3BvbnNlIGZyb20gRGVzaWduZXIgcGVyc29uYS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlRGVzaWduZXJDaGF0UmVzcG9uc2UoXG4gIGJyYW5kUHJvZmlsZTogQnJhbmRQcm9maWxlLFxuICBjdXJyZW50Q3JlYXRpdmU6IENyZWF0aXZlRGlyZWN0aW9uW1wiY3JlYXRpdmVcIl0sXG4gIHVzZXJNZXNzYWdlOiBzdHJpbmcsXG4gIGNvbnZlcnNhdGlvbkhpc3Rvcnk6IHsgcm9sZTogXCJ1c2VyXCIgfCBcImFzc2lzdGFudFwiOyBjb250ZW50OiBzdHJpbmcgfVtdXG4pOiBQcm9taXNlPENoYXRSZXNwb25zZT4ge1xuICBjb25zdCBhcGlLZXkgPSBwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWTtcbiAgaWYgKCFhcGlLZXkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJHRU1JTklfQVBJX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3Qgc2V0LlwiKTtcbiAgfVxuXG4gIGNvbnN0IGdlbkFJID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSShhcGlLZXkpO1xuICBjb25zdCBtb2RlbCA9IGdlbkFJLmdldEdlbmVyYXRpdmVNb2RlbCh7XG4gICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1mbGFzaFwiLFxuICB9KTtcblxuICBjb25zdCBjb250ZXh0U3VtbWFyeSA9IGBcbkJyYW5kOiAke2JyYW5kUHJvZmlsZS5uYW1lfSAoJHticmFuZFByb2ZpbGUuaW5kdXN0cnkgfHwgXCJVbmtub3duIGluZHVzdHJ5XCJ9KVxuQnJhbmQgQ29sb3JzOiAke2JyYW5kUHJvZmlsZS5jb2xvcnM/LmpvaW4oXCIsIFwiKSB8fCBcIk5vdCBzcGVjaWZpZWRcIn1cblxuQ3VycmVudCBDcmVhdGl2ZTpcbi0gQ29uY2VwdDogXCIke2N1cnJlbnRDcmVhdGl2ZS5jb25jZXB0TmFtZX1cIlxuLSBWaXN1YWwgU3R5bGU6IFwiJHtjdXJyZW50Q3JlYXRpdmUudmlzdWFsU3R5bGV9XCJcbi0gQ29sb3JzOiBQcmltYXJ5ICR7Y3VycmVudENyZWF0aXZlLmNvbG9yU2NoZW1lLnByaW1hcnl9LCBBY2NlbnQgJHtcbiAgICBjdXJyZW50Q3JlYXRpdmUuY29sb3JTY2hlbWUuYWNjZW50XG4gIH1cbi0gTGF5b3V0OiAke2N1cnJlbnRDcmVhdGl2ZS5sYXlvdXRTdWdnZXN0aW9ufVxuYDtcblxuICBjb25zdCBoaXN0b3J5VGV4dCA9IGNvbnZlcnNhdGlvbkhpc3RvcnlcbiAgICAuc2xpY2UoLTYpXG4gICAgLm1hcCgobSkgPT4gYCR7bS5yb2xlID09PSBcInVzZXJcIiA/IFwiQ2xpZW50XCIgOiBcIkRhdmluY2lcIn06ICR7bS5jb250ZW50fWApXG4gICAgLmpvaW4oXCJcXG5cIik7XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbW9kZWwuZ2VuZXJhdGVDb250ZW50KFtcbiAgICBDSEFUX1NZU1RFTV9QUk9NUFQsXG4gICAgYENvbnRleHQ6XFxuJHtjb250ZXh0U3VtbWFyeX1gLFxuICAgIGBSZWNlbnQgY29udmVyc2F0aW9uOlxcbiR7aGlzdG9yeVRleHR9YCxcbiAgICBgQ2xpZW50J3MgbGF0ZXN0IG1lc3NhZ2U6IFwiJHt1c2VyTWVzc2FnZX1cImAsXG4gICAgXCJSZXNwb25kIGFzIERhdmluY2kgd2l0aCBKU09OOlwiLFxuICBdKTtcblxuICBjb25zdCByZXNwb25zZVRleHQgPSByZXN1bHQucmVzcG9uc2UudGV4dCgpO1xuICByZXR1cm4gcGFyc2VDaGF0UmVzcG9uc2UocmVzcG9uc2VUZXh0KTtcbn1cblxuZnVuY3Rpb24gYnVpbGRDb250ZXh0UHJvbXB0KFxuICBicmFuZDogQnJhbmRQcm9maWxlLFxuICBzdHJhdGVneTogU3RyYXRlZ3lEYXRhLFxuICBjYW1wYWlnbjogQ2FtcGFpZ25EYXRhIHwgbnVsbFxuKTogc3RyaW5nIHtcbiAgcmV0dXJuIGBcbiMjIEJyYW5kIEluZm9ybWF0aW9uXG4tIE5hbWU6ICR7YnJhbmQubmFtZX1cbi0gSW5kdXN0cnk6ICR7YnJhbmQuaW5kdXN0cnkgfHwgXCJOb3Qgc3BlY2lmaWVkXCJ9XG4tIFRhZ2xpbmU6ICR7YnJhbmQudGFnbGluZSB8fCBcIk5vbmUgcHJvdmlkZWRcIn1cbi0gQWJvdXQ6ICR7YnJhbmQuYnJhbmRTdW1tYXJ5IHx8IFwiTm8gZGVzY3JpcHRpb24gYXZhaWxhYmxlXCJ9XG4tIEJyYW5kIFZvaWNlOiAke2JyYW5kLnRvbmUgfHwgXCJQcm9mZXNzaW9uYWxcIn1cbi0gQnJhbmQgQ29sb3JzOiAke2JyYW5kLmNvbG9ycz8uam9pbihcIiwgXCIpIHx8IFwiTm90IHNwZWNpZmllZFwifVxuLSBQZXJzb25hbGl0eTogJHticmFuZC5wZXJzb25hbGl0eT8uam9pbihcIiwgXCIpIHx8IFwiTm90IHNwZWNpZmllZFwifVxuXG4jIyBUYXJnZXQgQXVkaWVuY2VzXG4ke1xuICBicmFuZC5hdWRpZW5jZXMgJiYgYnJhbmQuYXVkaWVuY2VzLmxlbmd0aCA+IDBcbiAgICA/IGJyYW5kLmF1ZGllbmNlcy5tYXAoKGEpID0+IGAtICR7YS5uYW1lfTogJHthLmRlc2NyaXB0aW9ufWApLmpvaW4oXCJcXG5cIilcbiAgICA6IFwiLSBHZW5lcmFsIGNvbnN1bWVyc1wiXG59XG5cbiMjIEFwcHJvdmVkIENhbXBhaWduIFN0cmF0ZWd5XG4tIFR5cGU6ICR7c3RyYXRlZ3kucmVjb21tZW5kYXRpb259XG4tIENhbXBhaWduIEFuZ2xlOiBcIiR7c3RyYXRlZ3kuY2FtcGFpZ25BbmdsZX1cIlxuLSBIZWFkbGluZTogXCIke3N0cmF0ZWd5LmhlYWRsaW5lfVwiXG4tIFN1YmhlYWRsaW5lOiBcIiR7c3RyYXRlZ3kuc3ViaGVhZGxpbmV9XCJcbi0gQ1RBOiBcIiR7c3RyYXRlZ3kuY2FsbFRvQWN0aW9ufVwiXG4tIEFkIEZvcm1hdHM6ICR7c3RyYXRlZ3kuYWRGb3JtYXRzLmpvaW4oXCIsIFwiKX1cblxuIyMgQ2FtcGFpZ24gRGF0YVxuJHtcbiAgY2FtcGFpZ25cbiAgICA/IGBcbi0gQ3VycmVudCBQcm9tb3Rpb25zOiAke2NhbXBhaWduLmN1cnJlbnRQcm9tb3Muam9pbihcIiwgXCIpIHx8IFwiTm9uZVwifVxuLSBLZXkgUHJvZHVjdHM6ICR7Y2FtcGFpZ24ua2V5UHJvZHVjdHMuam9pbihcIiwgXCIpfVxuLSBVU1BzOiAke2NhbXBhaWduLnVuaXF1ZVNlbGxpbmdQb2ludHMuam9pbihcIiwgXCIpfVxuYFxuICAgIDogXCJObyBhZGRpdGlvbmFsIGNhbXBhaWduIGRhdGEgYXZhaWxhYmxlLlwiXG59XG5cbkJhc2VkIG9uIHRoaXMgaW5mb3JtYXRpb24sIGNyZWF0ZSBhIGNvaGVzaXZlIHZpc3VhbCBkaXJlY3Rpb24gdGhhdCBicmluZ3MgdGhpcyBjYW1wYWlnbiB0byBsaWZlLlxuYDtcbn1cblxuZnVuY3Rpb24gcGFyc2VEZXNpZ25lclJlc3BvbnNlKFxuICByZXNwb25zZVRleHQ6IHN0cmluZyxcbiAgYnJhbmQ6IEJyYW5kUHJvZmlsZVxuKTogQ3JlYXRpdmVEaXJlY3Rpb24ge1xuICB0cnkge1xuICAgIGNvbnN0IGpzb25NYXRjaCA9IHJlc3BvbnNlVGV4dC5tYXRjaCgvYGBgKD86anNvbik/XFxzKihbXFxzXFxTXSo/KWBgYC8pO1xuICAgIGNvbnN0IGpzb25TdHJpbmcgPSBqc29uTWF0Y2ggPyBqc29uTWF0Y2hbMV0udHJpbSgpIDogcmVzcG9uc2VUZXh0LnRyaW0oKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nKTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gRmFsbGJhY2sgcmVzcG9uc2UgdXNpbmcgYnJhbmQgY29sb3JzIGlmIGF2YWlsYWJsZVxuICAgIGNvbnN0IHByaW1hcnlDb2xvciA9IGJyYW5kLmNvbG9ycz8uWzBdIHx8IFwiIzRGNDZFNVwiO1xuICAgIGNvbnN0IHNlY29uZGFyeUNvbG9yID0gYnJhbmQuY29sb3JzPy5bMV0gfHwgXCIjRjk3MzE2XCI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZ3JlZXRpbmc6IGBIZXkhIPCfjqggSSd2ZSBiZWVuIHN0dWR5aW5nIHlvdXIgYnJhbmQgYW5kIHRoZSBjYW1wYWlnbiBzdHJhdGVneSwgYW5kIEknbSByZWFsbHkgZXhjaXRlZCBhYm91dCB0aGUgY3JlYXRpdmUgcG9zc2liaWxpdGllcyBoZXJlISBMZXQgbWUgc2hvdyB5b3Ugd2hhdCBJIGhhdmUgaW4gbWluZC5gLFxuICAgICAgY3JlYXRpdmU6IHtcbiAgICAgICAgY29uY2VwdE5hbWU6IFwiQm9sZCBJbXBhY3RcIixcbiAgICAgICAgdmlzdWFsU3R5bGU6IFwiTW9kZXJuIGFuZCBEeW5hbWljXCIsXG4gICAgICAgIGNvbG9yU2NoZW1lOiB7XG4gICAgICAgICAgcHJpbWFyeTogcHJpbWFyeUNvbG9yLFxuICAgICAgICAgIHNlY29uZGFyeTogc2Vjb25kYXJ5Q29sb3IsXG4gICAgICAgICAgYWNjZW50OiBcIiMxMEI5ODFcIixcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiNGRkZGRkZcIixcbiAgICAgICAgfSxcbiAgICAgICAgdHlwb2dyYXBoeToge1xuICAgICAgICAgIGhlYWRsaW5lU3R5bGU6IFwiQm9sZCBTYW5zLVNlcmlmXCIsXG4gICAgICAgICAgYm9keVN0eWxlOiBcIkNsZWFuIFNhbnMtU2VyaWZcIixcbiAgICAgICAgfSxcbiAgICAgICAgbGF5b3V0U3VnZ2VzdGlvbjpcbiAgICAgICAgICBcIkhlcm8gaGVhZGxpbmUgYXQgdG9wIHdpdGggc3Ryb25nIHZpc3VhbCBjZW50ZXIgYW5kIENUQSBidXR0b24gcHJvbWluZW50bHkgcGxhY2VkIGF0IGJvdHRvbS5cIixcbiAgICAgICAgYW5pbWF0aW9uSWRlYXM6IFtcbiAgICAgICAgICBcIkZhZGUtaW4gaGVhZGxpbmUgd2l0aCBzdWJ0bGUgc2xpZGVcIixcbiAgICAgICAgICBcIlB1bHNpbmcgQ1RBIGJ1dHRvbiB0byBkcmF3IGF0dGVudGlvblwiLFxuICAgICAgICBdLFxuICAgICAgICBtb29kS2V5d29yZHM6IFtcIlByb2Zlc3Npb25hbFwiLCBcIlRydXN0d29ydGh5XCIsIFwiTW9kZXJuXCJdLFxuICAgICAgICBpbWFnZURpcmVjdGlvbjpcbiAgICAgICAgICBcIkNsZWFuIHByb2R1Y3Qgc2hvdHMgb3IgYWJzdHJhY3QgYnJhbmQgaW1hZ2VyeSB3aXRoIHN0cm9uZyBjb250cmFzdC5cIixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUNoYXRSZXNwb25zZShyZXNwb25zZVRleHQ6IHN0cmluZyk6IENoYXRSZXNwb25zZSB7XG4gIHRyeSB7XG4gICAgY29uc3QganNvbk1hdGNoID0gcmVzcG9uc2VUZXh0Lm1hdGNoKC9gYGAoPzpqc29uKT9cXHMqKFtcXHNcXFNdKj8pYGBgLyk7XG4gICAgY29uc3QganNvblN0cmluZyA9IGpzb25NYXRjaCA/IGpzb25NYXRjaFsxXS50cmltKCkgOiByZXNwb25zZVRleHQudHJpbSgpO1xuICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoanNvblN0cmluZyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbWVzc2FnZTogcGFyc2VkLm1lc3NhZ2UgfHwgXCJMZXQgbWUgdGhpbmsgYWJvdXQgdGhhdC4uLlwiLFxuICAgICAgdXBkYXRlZENyZWF0aXZlOiBwYXJzZWQudXBkYXRlZENyZWF0aXZlIHx8IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVzc2FnZTpcbiAgICAgICAgcmVzcG9uc2VUZXh0LnNsaWNlKDAsIDUwMCkgfHxcbiAgICAgICAgXCJJbnRlcmVzdGluZyBkaXJlY3Rpb24hIExldCBtZSB0aGluayBhYm91dCBob3cgd2UgY2FuIG1ha2UgdGhhdCB3b3JrIHZpc3VhbGx5LiDwn46oXCIsXG4gICAgfTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkdvb2dsZUdlbmVyYXRpdmVBSSIsIkRFU0lHTkVSX1NZU1RFTV9QUk9NUFQiLCJDSEFUX1NZU1RFTV9QUk9NUFQiLCJnZW5lcmF0ZUluaXRpYWxDcmVhdGl2ZSIsImJyYW5kUHJvZmlsZSIsInN0cmF0ZWd5IiwiY2FtcGFpZ25EYXRhIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIkdFTUlOSV9BUElfS0VZIiwiRXJyb3IiLCJnZW5BSSIsIm1vZGVsIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwiY29udGV4dFByb21wdCIsImJ1aWxkQ29udGV4dFByb21wdCIsInJlc3VsdCIsImdlbmVyYXRlQ29udGVudCIsInJlc3BvbnNlVGV4dCIsInJlc3BvbnNlIiwidGV4dCIsInBhcnNlRGVzaWduZXJSZXNwb25zZSIsImdlbmVyYXRlRGVzaWduZXJDaGF0UmVzcG9uc2UiLCJjdXJyZW50Q3JlYXRpdmUiLCJ1c2VyTWVzc2FnZSIsImNvbnZlcnNhdGlvbkhpc3RvcnkiLCJjb250ZXh0U3VtbWFyeSIsIm5hbWUiLCJpbmR1c3RyeSIsImNvbG9ycyIsImpvaW4iLCJjb25jZXB0TmFtZSIsInZpc3VhbFN0eWxlIiwiY29sb3JTY2hlbWUiLCJwcmltYXJ5IiwiYWNjZW50IiwibGF5b3V0U3VnZ2VzdGlvbiIsImhpc3RvcnlUZXh0Iiwic2xpY2UiLCJtYXAiLCJtIiwicm9sZSIsImNvbnRlbnQiLCJwYXJzZUNoYXRSZXNwb25zZSIsImJyYW5kIiwiY2FtcGFpZ24iLCJ0YWdsaW5lIiwiYnJhbmRTdW1tYXJ5IiwidG9uZSIsInBlcnNvbmFsaXR5IiwiYXVkaWVuY2VzIiwibGVuZ3RoIiwiYSIsImRlc2NyaXB0aW9uIiwicmVjb21tZW5kYXRpb24iLCJjYW1wYWlnbkFuZ2xlIiwiaGVhZGxpbmUiLCJzdWJoZWFkbGluZSIsImNhbGxUb0FjdGlvbiIsImFkRm9ybWF0cyIsImN1cnJlbnRQcm9tb3MiLCJrZXlQcm9kdWN0cyIsInVuaXF1ZVNlbGxpbmdQb2ludHMiLCJqc29uTWF0Y2giLCJtYXRjaCIsImpzb25TdHJpbmciLCJ0cmltIiwiSlNPTiIsInBhcnNlIiwicHJpbWFyeUNvbG9yIiwic2Vjb25kYXJ5Q29sb3IiLCJncmVldGluZyIsImNyZWF0aXZlIiwic2Vjb25kYXJ5IiwiYmFja2dyb3VuZCIsInR5cG9ncmFwaHkiLCJoZWFkbGluZVN0eWxlIiwiYm9keVN0eWxlIiwiYW5pbWF0aW9uSWRlYXMiLCJtb29kS2V5d29yZHMiLCJpbWFnZURpcmVjdGlvbiIsInBhcnNlZCIsIm1lc3NhZ2UiLCJ1cGRhdGVkQ3JlYXRpdmUiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/designer/lib/designer.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/designer/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/designer/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_designer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/designer */ \"(rsc)/./src/app/api/designer/lib/designer.ts\");\n\n\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nasync function POST(request) {\n    const encoder = new TextEncoder();\n    try {\n        const body = await request.json();\n        if (!body.brandProfile) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"brandProfile is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Handle chat mode\n        if (body.mode === \"chat\" && body.userMessage && body.currentCreative) {\n            const response = await (0,_lib_designer__WEBPACK_IMPORTED_MODULE_1__.generateDesignerChatResponse)(body.brandProfile, body.currentCreative, body.userMessage, body.conversationHistory || []);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                type: \"chat\",\n                message: response.message,\n                updatedCreative: response.updatedCreative\n            });\n        }\n        // Initial creative generation (streaming)\n        if (!body.strategy) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"strategy is required for initial creative generation\"\n            }, {\n                status: 400\n            });\n        }\n        const stream = new ReadableStream({\n            async start (controller) {\n                const sendStatus = (step)=>{\n                    const message = JSON.stringify({\n                        type: \"status\",\n                        step\n                    }) + \"\\n\";\n                    controller.enqueue(encoder.encode(message));\n                };\n                const sendError = (message)=>{\n                    const errorMsg = JSON.stringify({\n                        type: \"error\",\n                        message\n                    }) + \"\\n\";\n                    controller.enqueue(encoder.encode(errorMsg));\n                };\n                try {\n                    // Status: Analyzing brand\n                    sendStatus(\"analyzing_brand\");\n                    // Small delay for UX\n                    await new Promise((resolve)=>setTimeout(resolve, 500));\n                    // Status: Reviewing strategy\n                    sendStatus(\"reviewing_strategy\");\n                    await new Promise((resolve)=>setTimeout(resolve, 500));\n                    // Status: Creating visuals\n                    sendStatus(\"creating_visuals\");\n                    const result = await (0,_lib_designer__WEBPACK_IMPORTED_MODULE_1__.generateInitialCreative)(body.brandProfile, body.strategy, body.campaignData || null);\n                    // Send final result\n                    const completeMessage = JSON.stringify({\n                        type: \"complete\",\n                        data: {\n                            greeting: result.greeting,\n                            creative: result.creative\n                        }\n                    }) + \"\\n\";\n                    controller.enqueue(encoder.encode(completeMessage));\n                    controller.close();\n                } catch (error) {\n                    sendError(error instanceof Error ? error.message : \"Unknown error occurred\");\n                    controller.close();\n                }\n            }\n        });\n        return new Response(stream, {\n            headers: {\n                \"Content-Type\": \"text/plain; charset=utf-8\",\n                \"Transfer-Encoding\": \"chunked\"\n            }\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error instanceof Error ? error.message : \"Failed to process request\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPbkMsT0FBTztRQUNkLE9BQU9aLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3RCO1lBQ0VFLE9BQ0VBLGlCQUFpQmlDLFFBQVFqQyxNQUFNUSxPQUFPLEdBQUc7UUFDN0MsR0FDQTtZQUFFUCxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyaWRsaXRlLy4vc3JjL2FwcC9hcGkvZGVzaWduZXIvcm91dGUudHM/Y2NiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQge1xuICBnZW5lcmF0ZUluaXRpYWxDcmVhdGl2ZSxcbiAgZ2VuZXJhdGVEZXNpZ25lckNoYXRSZXNwb25zZSxcbiAgQnJhbmRQcm9maWxlLFxuICBTdHJhdGVneURhdGEsXG4gIENhbXBhaWduRGF0YSxcbiAgQ3JlYXRpdmVEaXJlY3Rpb24sXG59IGZyb20gXCIuL2xpYi9kZXNpZ25lclwiO1xuXG5leHBvcnQgY29uc3QgcnVudGltZSA9IFwibm9kZWpzXCI7XG5leHBvcnQgY29uc3QgZHluYW1pYyA9IFwiZm9yY2UtZHluYW1pY1wiO1xuXG5pbnRlcmZhY2UgRGVzaWduZXJSZXF1ZXN0IHtcbiAgLy8gQnJhbmQgcHJvZmlsZSAocmVxdWlyZWQpXG4gIGJyYW5kUHJvZmlsZTogQnJhbmRQcm9maWxlO1xuXG4gIC8vIFN0cmF0ZWd5IGZyb20gUGhhc2UgMiAocmVxdWlyZWQgZm9yIGluaXRpYWwpXG4gIHN0cmF0ZWd5PzogU3RyYXRlZ3lEYXRhO1xuXG4gIC8vIENhbXBhaWduIGRhdGEgZnJvbSBQaGFzZSAyIChvcHRpb25hbClcbiAgY2FtcGFpZ25EYXRhPzogQ2FtcGFpZ25EYXRhO1xuXG4gIC8vIEZvciBjaGF0IGNvbnRpbnVhdGlvblxuICBtb2RlPzogXCJpbml0aWFsXCIgfCBcImNoYXRcIjtcbiAgdXNlck1lc3NhZ2U/OiBzdHJpbmc7XG4gIGN1cnJlbnRDcmVhdGl2ZT86IENyZWF0aXZlRGlyZWN0aW9uW1wiY3JlYXRpdmVcIl07XG4gIGNvbnZlcnNhdGlvbkhpc3Rvcnk/OiB7IHJvbGU6IFwidXNlclwiIHwgXCJhc3Npc3RhbnRcIjsgY29udGVudDogc3RyaW5nIH1bXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgYm9keTogRGVzaWduZXJSZXF1ZXN0ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG5cbiAgICBpZiAoIWJvZHkuYnJhbmRQcm9maWxlKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IFwiYnJhbmRQcm9maWxlIGlzIHJlcXVpcmVkXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBjaGF0IG1vZGVcbiAgICBpZiAoYm9keS5tb2RlID09PSBcImNoYXRcIiAmJiBib2R5LnVzZXJNZXNzYWdlICYmIGJvZHkuY3VycmVudENyZWF0aXZlKSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGdlbmVyYXRlRGVzaWduZXJDaGF0UmVzcG9uc2UoXG4gICAgICAgIGJvZHkuYnJhbmRQcm9maWxlLFxuICAgICAgICBib2R5LmN1cnJlbnRDcmVhdGl2ZSxcbiAgICAgICAgYm9keS51c2VyTWVzc2FnZSxcbiAgICAgICAgYm9keS5jb252ZXJzYXRpb25IaXN0b3J5IHx8IFtdXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICB0eXBlOiBcImNoYXRcIixcbiAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZSxcbiAgICAgICAgdXBkYXRlZENyZWF0aXZlOiByZXNwb25zZS51cGRhdGVkQ3JlYXRpdmUsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBJbml0aWFsIGNyZWF0aXZlIGdlbmVyYXRpb24gKHN0cmVhbWluZylcbiAgICBpZiAoIWJvZHkuc3RyYXRlZ3kpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogXCJzdHJhdGVneSBpcyByZXF1aXJlZCBmb3IgaW5pdGlhbCBjcmVhdGl2ZSBnZW5lcmF0aW9uXCIgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICBhc3luYyBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnN0IHNlbmRTdGF0dXMgPSAoc3RlcDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHsgdHlwZTogXCJzdGF0dXNcIiwgc3RlcCB9KSArIFwiXFxuXCI7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKG1lc3NhZ2UpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzZW5kRXJyb3IgPSAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBKU09OLnN0cmluZ2lmeSh7IHR5cGU6IFwiZXJyb3JcIiwgbWVzc2FnZSB9KSArIFwiXFxuXCI7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZXIuZW5jb2RlKGVycm9yTXNnKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBTdGF0dXM6IEFuYWx5emluZyBicmFuZFxuICAgICAgICAgIHNlbmRTdGF0dXMoXCJhbmFseXppbmdfYnJhbmRcIik7XG5cbiAgICAgICAgICAvLyBTbWFsbCBkZWxheSBmb3IgVVhcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcblxuICAgICAgICAgIC8vIFN0YXR1czogUmV2aWV3aW5nIHN0cmF0ZWd5XG4gICAgICAgICAgc2VuZFN0YXR1cyhcInJldmlld2luZ19zdHJhdGVneVwiKTtcblxuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuXG4gICAgICAgICAgLy8gU3RhdHVzOiBDcmVhdGluZyB2aXN1YWxzXG4gICAgICAgICAgc2VuZFN0YXR1cyhcImNyZWF0aW5nX3Zpc3VhbHNcIik7XG5cbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZW5lcmF0ZUluaXRpYWxDcmVhdGl2ZShcbiAgICAgICAgICAgIGJvZHkuYnJhbmRQcm9maWxlLFxuICAgICAgICAgICAgYm9keS5zdHJhdGVneSEsXG4gICAgICAgICAgICBib2R5LmNhbXBhaWduRGF0YSB8fCBudWxsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIFNlbmQgZmluYWwgcmVzdWx0XG4gICAgICAgICAgY29uc3QgY29tcGxldGVNZXNzYWdlID1cbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgdHlwZTogXCJjb21wbGV0ZVwiLFxuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZ3JlZXRpbmc6IHJlc3VsdC5ncmVldGluZyxcbiAgICAgICAgICAgICAgICBjcmVhdGl2ZTogcmVzdWx0LmNyZWF0aXZlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkgKyBcIlxcblwiO1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShlbmNvZGVyLmVuY29kZShjb21wbGV0ZU1lc3NhZ2UpKTtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgc2VuZEVycm9yKFxuICAgICAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3Igb2NjdXJyZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShzdHJlYW0sIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCIsXG4gICAgICAgIFwiVHJhbnNmZXItRW5jb2RpbmdcIjogXCJjaHVua2VkXCIsXG4gICAgICB9LFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgZXJyb3I6XG4gICAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBwcm9jZXNzIHJlcXVlc3RcIixcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2VuZXJhdGVJbml0aWFsQ3JlYXRpdmUiLCJnZW5lcmF0ZURlc2lnbmVyQ2hhdFJlc3BvbnNlIiwicnVudGltZSIsImR5bmFtaWMiLCJQT1NUIiwicmVxdWVzdCIsImVuY29kZXIiLCJUZXh0RW5jb2RlciIsImJvZHkiLCJqc29uIiwiYnJhbmRQcm9maWxlIiwiZXJyb3IiLCJzdGF0dXMiLCJtb2RlIiwidXNlck1lc3NhZ2UiLCJjdXJyZW50Q3JlYXRpdmUiLCJyZXNwb25zZSIsImNvbnZlcnNhdGlvbkhpc3RvcnkiLCJ0eXBlIiwibWVzc2FnZSIsInVwZGF0ZWRDcmVhdGl2ZSIsInN0cmF0ZWd5Iiwic3RyZWFtIiwiUmVhZGFibGVTdHJlYW0iLCJzdGFydCIsImNvbnRyb2xsZXIiLCJzZW5kU3RhdHVzIiwic3RlcCIsIkpTT04iLCJzdHJpbmdpZnkiLCJlbnF1ZXVlIiwiZW5jb2RlIiwic2VuZEVycm9yIiwiZXJyb3JNc2ciLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJyZXN1bHQiLCJjYW1wYWlnbkRhdGEiLCJjb21wbGV0ZU1lc3NhZ2UiLCJkYXRhIiwiZ3JlZXRpbmciLCJjcmVhdGl2ZSIsImNsb3NlIiwiRXJyb3IiLCJSZXNwb25zZSIsImhlYWRlcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/designer/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdesigner%2Froute&page=%2Fapi%2Fdesigner%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdesigner%2Froute.ts&appDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fpiotrostiak%2FDev%2Fai%2Fgrid-lite&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();